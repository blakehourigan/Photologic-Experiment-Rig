<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>main_gui API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="index.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;
                Module Index
            </a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#logger">logger</a>
            </li>
            <li>
                    <a class="class" href="#MainGUI">MainGUI</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MainGUI.__init__">MainGUI</a>
                        </li>
                        <li>
                                <a class="variable" href="#MainGUI.exp_data">exp_data</a>
                        </li>
                        <li>
                                <a class="variable" href="#MainGUI.arduino_controller">arduino_controller</a>
                        </li>
                        <li>
                                <a class="variable" href="#MainGUI.trigger">trigger</a>
                        </li>
                        <li>
                                <a class="variable" href="#MainGUI.scheduled_tasks">scheduled_tasks</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.setup_basic_window_attr">setup_basic_window_attr</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.setup_tkinter_variables">setup_tkinter_variables</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.build_gui_widgets">build_gui_widgets</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.preload_secondary_windows">preload_secondary_windows</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.show_secondary_window">show_secondary_window</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.hide_secondary_window">hide_secondary_window</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.create_top_control_buttons">create_top_control_buttons</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.create_timers">create_timers</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.create_status_widgets">create_status_widgets</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.create_entry_widgets">create_entry_widgets</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.create_lower_control_buttons">create_lower_control_buttons</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.save_button_handler">save_button_handler</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.update_clock_label">update_clock_label</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.update_max_time">update_max_time</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.update_on_new_trial">update_on_new_trial</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.update_on_state_change">update_on_state_change</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.update_on_stop">update_on_stop</a>
                        </li>
                        <li>
                                <a class="function" href="#MainGUI.on_close">on_close</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
main_gui    </h1>

                        <div class="docstring"><p><code><a href="">main_gui</a></code> is the module which all program GUI elements originate from. We first initialize the primary app window, then initialize and hide
all secondary windows so that they will not take resources being created later.</p>
</div>

                        <input id="mod-main_gui-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-main_gui-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="sd">`main_gui` is the module which all program GUI elements originate from. We first initialize the primary app window, then initialize and hide</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">all secondary windows so that they will not take resources being created later.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="kn">import</span> <span class="n">ttk</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tk</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="c1"># used for type hinting</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">controllers.arduino_control</span><span class="w"> </span><span class="kn">import</span> <span class="n">ArduinoManager</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">models.experiment_process_data</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExperimentProcessData</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="c1"># used for type hinting</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.gui_common</span><span class="w"> </span><span class="kn">import</span> <span class="n">GUIUtils</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="c1"># import other GUI classes that can spawn from main GUI</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.rasterized_data_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">RasterizedDataWindow</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.experiment_control_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExperimentCtlWindow</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.event_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">EventWindow</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.valve_testing.valve_testing_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValveTestWindow</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.program_schedule_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProgramScheduleWindow</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">views.valve_control_window</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValveControlWindow</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="c1"># Get the logger in use for the app</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="c1"># using tk.Tk here says that this class is going to be a tkinter app. when we call super().__init__() this actuall creates the tkinter main window</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="c1"># then we can use it as if it were root - e.g self.title(&quot;title&quot;) sets the root window title</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MainGUI</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">):</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">    The creator and controller of all GUI related items and actions for the program. Inherits from tk.Tk to create a tk.root() from which tk.TopLevel windows can be sprouted</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">    and tk.after scheduling calls can be made.</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a><span class="sd">    Attributes</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="sd">    ----------</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="sd">    - **exp_data** (*ExperimentProcessData*): An instance of `models.experiment_process_data` ExperimentProcessData,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="sd">    this attribute allows for access and modification of experiment variables, and access for to more specific models like</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="sd">    `models.event_data` and `models.arduino_data`.</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">    - **arduino_controller** (*ArduinoManager*): An instance of `controllers.arduino_control` ArduinoManager, this allows for communication between this program and the</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">    Arduino board.</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">    - **trigger** (*Callback method*): trigger is the callback method from `app_logic` module `StateMachine` class, it allows the</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">    GUI to attempt state transitions.</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">    - **scheduled_tasks** (*dict[str,str]*): self.scheduled_tasks is a dict where keys are short task descriptions (e.g ttc_to_iti) and the values are</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a><span class="sd">        the str ids for tkinter.after scheduling calls. This allows for tracking and cancellations of scheduled tasks.</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">    - (**windows**) (*dict*): A dictionary that holds window titles as keys, and instances of GUI sublasses as values. Allows for easy access of windows and their methods</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">        and attributes given a title.</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">    Methods</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a><span class="sd">    -------</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a><span class="sd">    - `setup_basic_window_attr`()</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a><span class="sd">        This method sets basic window attributes like title, icon, and expansion settings.</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a><span class="sd">    - `setup_tkinter_variables`()</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        GUI (Tkinter) variables and acutal stored data for the program are decoupled to separate concerns. Here we link them such that when the GUI variables are updated,</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a><span class="sd">        the data stored in the model is also updated.</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">    - `build_gui_widgets`()</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        Setup all widgets to be placed in the MainGUI window.</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">    - `preload_secondary_windows`()</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">        This method loads all secondary windows and all content available at start time. This was done to reduce strain on system while program is running. Windows always</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        exist and are simply hidden when not shown to user.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">    - `show_secondary_window`()</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        Takes a window description string for the `windows` dictionary. Access is given to the instance of the class for the description, where the windows `show` method is</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        called.</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="sd">    - `hide_secondary_window`()</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        The opposing function to `show_secondary_window`. Hides the window specified as the `window` argument.</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">    - `create_top_control_buttons`()</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        Create frames and buttons for top bar start an reset buttons.</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">    - `create_timers`()</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">        Create start and state start timer labels.</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">    - `create_status_widgets`()</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a><span class="sd">        Create state status widgets such as state label, num trials progress bar and label, etc.</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a><span class="sd">    - `create_entry_widgets`()</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a><span class="sd">        Build entry widget and frames for ITI, TTC, Sample times, Num Trials, Num Stimuli.</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a><span class="sd">    - `create_lower_control_buttons`()</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="sd">        Create lower control buttons for opening windows and saving data.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="sd">    - `save_button_handler`()</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a><span class="sd">        Define behavior for saving all data to xlsx files.</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a><span class="sd">    - `update_clock_label`()</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a><span class="sd">        Hold logic for updating GUI clocks every 100ms.</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a><span class="sd">    - `update_max_time`()</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a><span class="sd">        Calculate max program runtime.</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="sd">    - `update_on_new_trial`()</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="sd">        Define GUI objects to update each iteration (new ITI state) of program.</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">    - `update_on_state_change`()</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">        Define GUI objects to update upon each state (state timer, label, etc).</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">    - `update_on_stop`()</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">        Update GUI objects to reflect &quot;IDLE&quot; program state once stopped.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">    - `on_close`()</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">        Defines GUI shutdown behavior when primary window is closed.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>        <span class="n">exp_data</span><span class="p">:</span> <span class="n">ExperimentProcessData</span><span class="p">,</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="n">trigger</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>        <span class="n">arduino_controller</span><span class="p">:</span> <span class="n">ArduinoManager</span><span class="p">,</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="sd">        Initialize the MainGUI window. Build all frames and widgets required by the main window *and* loads all secondary windows that can</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a><span class="sd">        be opened by the lower control buttons. These are hidden after generation and deiconified (shown) when the button is pressed.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a><span class="sd">        Parameters</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a><span class="sd">        ----------</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a><span class="sd">        - **exp_data** (*ExperimentProcessData*): A reference to the `models.experiment_process_data` ExperimentProcessData instance,</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a><span class="sd">        this is used to model data based on user GUI interaction.</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="sd">        - **trigger** (*Callback method*): This callback is passed in so that this state can trigger state transitions from GUI objects</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a><span class="sd">        throughout the class.</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a><span class="sd">        - **arduino_controller** (*ArduinoManager*): A reference to the `controllers.arduino_control` Arduino controller instance,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="sd">        this is the method by which the Arduino is communicated with in the program. `views.valve_testing.valve_testing_window`</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a><span class="sd">        ValveTestWindow, and `views.valve_control_window` require references here to communicate with Arduino to calibrate and open/close</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">        valves. This is also used in `on_close` to stop the Arduino listener thread to avoid thread errors on window close.</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>        <span class="c1"># init tk.Tk to use this class as a tk.root.</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span> <span class="o">=</span> <span class="n">exp_data</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span> <span class="o">=</span> <span class="n">arduino_controller</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span> <span class="o">=</span> <span class="n">trigger</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_basic_window_attr</span><span class="p">()</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_tkinter_variables</span><span class="p">()</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">build_gui_widgets</span><span class="p">()</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="c1"># update_idletasks so that window knows what elements are inside and what width and height they require,</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="c1"># then scale and center the window.</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">center_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="c1"># create all secondary windows early so that loading when program is running is fast</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preload_secondary_windows</span><span class="p">()</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;MainGUI initialized.&quot;</span><span class="p">)</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_basic_window_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">        Set basic window attributes such as title, size, window icon, protocol for closing the window, etc.</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">        We also bind &lt;Control-w&gt; keyboard shortcut to close the window for convenience. Finally,</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="sd">        we set the grid rows and columns to expand and contract as window gets larger or smaller (weight=1).</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Samuelsen Lab Photologic Rig&quot;</span><span class="p">)</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Control-w&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">())</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">)</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="n">icon_path</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">get_window_icon_path</span><span class="p">()</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">set_program_icon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icon_path</span><span class="o">=</span><span class="n">icon_path</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="c1"># set cols and rows to expand to fill space in main gui</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_tkinter_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">        Tkinter variables for tkinter entries are created here. These are the variables updated on user input. Default values</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a><span class="sd">        are set by finding the default value in `models.experiment_process_data`. Traces are added to each variable which update</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">        the model upon an update (write) to the Tkinter variable.</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>        <span class="c1"># tkinter variables for time related</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>        <span class="c1"># modifications in the experiment</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>            <span class="s2">&quot;ITI_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>            <span class="s2">&quot;TTC_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>            <span class="s2">&quot;sample_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>            <span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>            <span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>            <span class="s2">&quot;sample_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>        <span class="p">}</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="c1"># fill the tkinter entry boxes with their default values as configured in self.exp_data</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="c1"># we add traces to all of our tkinter variables so that on value update</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="c1"># we sent those updates to the corresponding model (data storage location)</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>                <span class="p">),</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>            <span class="p">)</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>        <span class="c1"># tkinter variables for other variables in the experiment such as num stimuli</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="c1"># or number of trial blocks</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>            <span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>            <span class="s2">&quot;Num Stimuli&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>        <span class="p">}</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>        <span class="c1"># fill the exp_var entry boxes with their default values as configured in self.exp_data</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>                <span class="p">),</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>            <span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_gui_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="sd">        Build all GUI widgets by calling respective functions for each type of widget listed here.</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_top_control_buttons</span><span class="p">()</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_timers</span><span class="p">()</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_status_widgets</span><span class="p">()</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widgets</span><span class="p">()</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_lower_control_buttons</span><span class="p">()</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;GUI setup completed.&quot;</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error setting up GUI: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>            <span class="k">raise</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">preload_secondary_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a><span class="sd">        Build all secondary windows (windows that require a button push to view) and get them ready</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a><span class="sd">        to be opened (deiconified in tkinter terms) when the user clicks the corresponding button.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="c1"># define the data that ExperimentCtlWindow() needs to function</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="n">stimuli_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">stimuli_data</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>        <span class="n">event_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>            <span class="s2">&quot;Experiment Control&quot;</span><span class="p">:</span> <span class="n">ExperimentCtlWindow</span><span class="p">(</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span> <span class="n">stimuli_data</span><span class="p">,</span> <span class="n">event_data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="p">),</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>            <span class="s2">&quot;Program Schedule&quot;</span><span class="p">:</span> <span class="n">ProgramScheduleWindow</span><span class="p">(</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>                <span class="n">stimuli_data</span><span class="p">,</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="p">),</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>            <span class="s2">&quot;Raster Plot&quot;</span><span class="p">:</span> <span class="p">(</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>            <span class="p">),</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>            <span class="s2">&quot;Event Data&quot;</span><span class="p">:</span> <span class="n">EventWindow</span><span class="p">(</span><span class="n">event_data</span><span class="p">),</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>            <span class="s2">&quot;Valve Testing&quot;</span><span class="p">:</span> <span class="n">ValveTestWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>            <span class="s2">&quot;Valve Control&quot;</span><span class="p">:</span> <span class="n">ValveControlWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="p">}</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a><span class="sd">        Show the window corresponding to a button press or other event calling this method. Accesses class attribute `windows` to gain</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a><span class="sd">        accesss to the desired instance and call the class `show` method.</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a><span class="sd">        Parameters</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a><span class="sd">        ----------</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>            <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]:</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="k">if</span> <span class="n">window</span> <span class="o">==</span> <span class="s2">&quot;Valve Testing&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">display_error</span><span class="p">(</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>                    <span class="s2">&quot;CANNOT DISPLAY WINDOW&quot;</span><span class="p">,</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>                    <span class="s2">&quot;Since the schedule has been generated, valve testing has been disabled for this experiment. Reset the application to test again.&quot;</span><span class="p">,</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>                <span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>                <span class="k">return</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">hide_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a><span class="sd">        Performs the opposite action of `show_secondary_window`. Hides the window without destroyoing it by calling tkinter method</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a><span class="sd">        &#39;withdraw&#39; on the tk.TopLevel (class/`windows` dict value) instance.</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a><span class="sd">        Parameters</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a><span class="sd">        ----------</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_top_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">        Creates frame to contain top control buttons, then utilizes `views.gui_common` `GUIUtils` methods to create buttons for</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="sd">        &#39;Start/Stop&#39; and &#39;Reset&#39; button functions.</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>            <span class="p">)</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">start_button_frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;START&quot;</span><span class="p">),</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>            <span class="p">)</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">reset_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;RESET&quot;</span><span class="p">),</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>            <span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Main control buttons displayed.&quot;</span><span class="p">)</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying main control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>            <span class="k">raise</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_timers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="sd">        Creates frame to contain program timer, max runtime timer, and state timer. Then builds both timers and places them into the frame.</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>            <span class="p">)</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Time Elapsed:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>            <span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>            <span class="p">)</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>            <span class="c1">######  BEGIN max total time frame #####</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Maximum Total Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0 Minutes, 0 S&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>                <span class="p">)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>            <span class="p">)</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>            <span class="c1">######  BEGIN state time frame #####</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;State Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>            <span class="p">)</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ 0.0s&quot;</span><span class="p">,</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>            <span class="p">)</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Timers created.&quot;</span><span class="p">)</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying timers: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>            <span class="k">raise</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_status_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a><span class="sd">        Creates frames for status widgets (state label, trial number/progress bar, current stimuli, etc), builds these widgets and places them</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a><span class="sd">        into their respective frames.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>            <span class="p">)</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>            <span class="p">)</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>            <span class="p">)</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: Idle&quot;</span><span class="p">,</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>            <span class="p">)</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;0 / 0 Trials Completed&quot;</span><span class="p">,</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>            <span class="p">)</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>                <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>                <span class="n">length</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;determinate&quot;</span><span class="p">,</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>                <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>            <span class="p">)</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Side One | VS | Side Two&quot;</span><span class="p">,</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>            <span class="p">)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Trial Number: &quot;</span><span class="p">,</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>            <span class="p">)</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Status widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying status widget: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>            <span class="k">raise</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_entry_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="sd">        Creates frame to store labels and entries for ITI, TTC, Sample times using `views.gui_common` GUIUtils static class methods.</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>            <span class="p">)</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>            <span class="c1"># Simplify the creation of labeled entries</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;ITI Time&quot;</span><span class="p">,</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_var&quot;</span><span class="p">],</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>            <span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;TTC Time&quot;</span><span class="p">,</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_var&quot;</span><span class="p">],</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>            <span class="p">)</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;Sample Time&quot;</span><span class="p">,</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_var&quot;</span><span class="p">],</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>            <span class="p">)</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_trial_blocks_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Trial Blocks&quot;</span><span class="p">,</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">],</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>            <span class="p">)</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>            <span class="c1"># Similarly for random plus/minus intervals and the number of stimuli</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- ITI&quot;</span><span class="p">,</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">],</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>            <span class="p">)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- TTC&quot;</span><span class="p">,</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">],</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>            <span class="p">)</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Random_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- Sample&quot;</span><span class="p">,</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_random_entry&quot;</span><span class="p">],</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="p">)</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_stimuli_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Stimuli&quot;</span><span class="p">,</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Stimuli&quot;</span><span class="p">],</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>            <span class="p">)</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Entry widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying entry widgets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>            <span class="k">raise</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_lower_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a><span class="sd">        Creates frame for lower control buttons (those that open windows and save data) and sets their command to open (deiconify) their</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a><span class="sd">        respective window.</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>            <span class="p">)</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">test_valves_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Testing / Prime Valves&quot;</span><span class="p">,</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Testing&quot;</span><span class="p">),</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>            <span class="p">)</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">valve_control_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">,</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">),</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>            <span class="p">)</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_schedule_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">,</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">),</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>            <span class="p">)</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_ctrl_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve / Stimuli&quot;</span><span class="p">,</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Experiment Control&quot;</span><span class="p">),</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>            <span class="p">)</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lick_window_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Event Data&quot;</span><span class="p">,</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Event Data&quot;</span><span class="p">),</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>            <span class="p">)</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raster_plot_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Rasterized Data&quot;</span><span class="p">,</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Raster Plot&quot;</span><span class="p">),</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>            <span class="p">)</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">save_data_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Save Data&quot;</span><span class="p">,</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_button_handler</span><span class="p">(),</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>            <span class="p">)</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Lower control buttons created.&quot;</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying lower control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>            <span class="k">raise</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">save_button_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a><span class="sd">        Here we define behavior for clicking the &#39;Save Data&#39; button. If either main dataframe is empty, we inform the user of this, otherwise</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a><span class="sd">        we call the `save_all_data` method from `models.experiment_process_data`.</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>        <span class="n">sched_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>        <span class="n">event_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span><span class="o">.</span><span class="n">event_dataframe</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>        <span class="k">if</span> <span class="n">sched_df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="n">event_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>                <span class="s2">&quot;Hmm...&quot;</span><span class="p">,</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>                <span class="s2">&quot;One some of your data appears missing or empty... save anyway?&quot;</span><span class="p">,</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>            <span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>            <span class="k">if</span> <span class="n">response</span><span class="p">:</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_clock_label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a><span class="sd">        This method defines logic to update primary timers such as main program timer and state timer. Max time is only updated once, but this</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a><span class="sd">        operation is separated from this method. This task is scheduled via a tkinter.after call to execute every 100ms so that the main timer</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a><span class="sd">        is responsive without overwhelming the main thread.</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>            <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>            <span class="n">state_elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">state_start_time</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>            <span class="nb">min</span><span class="p">,</span> <span class="n">sec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">convert_seconds_to_minutes_seconds</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">)</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">))</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;| </span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="n">sec</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>            <span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_elapsed_time</span><span class="p">))</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a>            <span class="n">clock_update_task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_clock_label</span><span class="p">)</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">[</span><span class="s2">&quot;CLOCK UPDATE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clock_update_task</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating clock label: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>            <span class="k">raise</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_max_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a><span class="sd">        This method updates the maximum runtime timer by retreiving this value from `models.experiment_process_data` and configuring the</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a><span class="sd">        timer label.</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>            <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">calculate_max_runtime</span><span class="p">()</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>            <span class="p">)</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating max time: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>            <span class="k">raise</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_new_trial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_1_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">side_2_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a><span class="sd">        Updates the new trial items such as program schedule window current trial highlighting and updates</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a><span class="sd">        the main_gui status information widgets with current trial number and updates progress bar.</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a><span class="sd">        Parameters</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a><span class="sd">        ----------</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a><span class="sd">        - **side_1_stimulus** (*str*): This parameter is of type string and is generally pulled from the program schedule dataframe in</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a><span class="sd">        `app_logic` &#39;StateMachine&#39; to provide the new stimulus for the upcoming trial for side one.</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a><span class="sd">        - **side_2_stimulus** (*str*): This parameter mirrors `side_1_stimulus` in all aspects except that this one reflects the stmulus for</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a><span class="sd">        side two.</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a>            <span class="n">trial_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">current_trial_number</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a>            <span class="n">total_trials</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trials&quot;</span><span class="p">]</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">total_trials</span><span class="si">}</span><span class="s2"> Trials Completed&quot;</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>            <span class="p">)</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Side One: </span><span class="si">{</span><span class="n">side_1_stimulus</span><span class="si">}</span><span class="s2"> | VS | Side Two: </span><span class="si">{</span><span class="n">side_2_stimulus</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>            <span class="p">)</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Trial Number: </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">refresh_start_trial</span><span class="p">(</span><span class="n">trial_number</span><span class="p">)</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>            <span class="c1"># Set the new value for the progress bar</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">trial_number</span> <span class="o">/</span> <span class="n">total_trials</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI for new trial </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI for new trial: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a>            <span class="k">raise</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_state_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_duration_ms</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a><span class="sd">        Here we define the GUI objects that need to be updated upon a state change. This includes the current state label as</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a><span class="sd">        well as the state timer.</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a><span class="sd">        Parameters</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a><span class="sd">        ----------</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a><span class="sd">        - **state_duration_ms** (*float*): Provides the duration of this state in ms. Is generally pulled from the program schedule df for</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a><span class="sd">        the current trial. Converted to seconds by dividing the parameter by 1000.0.</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a><span class="sd">        - **state** (*str*): Provides the current to program state to update state label to inform user that program has changed state.</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a>            <span class="c1">### clear full state time ###</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a>            <span class="c1">### UPDATE full state time ###</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a>            <span class="n">state_duration_seconds</span> <span class="o">=</span> <span class="n">state_duration_ms</span> <span class="o">/</span> <span class="mf">1000.0</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_duration_seconds</span><span class="p">)</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>            <span class="p">)</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Status: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI on state change to </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on state change: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a>            <span class="k">raise</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a><span class="sd">        Here we define the GUI objects that need to be updated when the program is stopped for any reason. This includes the current</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a><span class="sd">        state label (change to &quot;IDLE), and removing state timer information.</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;0.0s&quot;</span><span class="p">)</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot; / 0.0s&quot;</span><span class="p">)</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: IDLE&quot;</span><span class="p">)</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on stop: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a>            <span class="k">raise</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a><span class="sd">        This method is called any time the main program window is closed via the red X or &lt;C-w&gt; shortcut. We stop the listener thread if it</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a><span class="sd">        is running, then quit() the tkinter mainloop and destroy() the window and all descendent widgets.</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">listener_thread</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a>                <span class="c1"># stop the listener thread so that it will not block exit</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">stop_listener_thread</span><span class="p">()</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a>            <span class="c1"># quit the mainloop and destroy the application</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Mainloop terminated, widgets destroyed, application closed.&quot;</span><span class="p">)</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error closing application: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>            <span class="k">raise</span>
</span></pre></div>


            </section>
                <section id="logger">
                    <div class="attr variable">
            <span class="name">logger</span>        =
<span class="default_value">&lt;RootLogger root (INFO)&gt;</span>

        
    </div>
    <a class="headerlink" href="#logger"></a>
    
    

                </section>
                <section id="MainGUI">
                            <input id="MainGUI-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MainGUI</span><wbr>(<span class="base">tkinter.Tk</span>):

                <label class="view-source-button" for="MainGUI-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI-37"><a href="#MainGUI-37"><span class="linenos"> 37</span></a><span class="k">class</span><span class="w"> </span><span class="nc">MainGUI</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">):</span>
</span><span id="MainGUI-38"><a href="#MainGUI-38"><span class="linenos"> 38</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-39"><a href="#MainGUI-39"><span class="linenos"> 39</span></a><span class="sd">    The creator and controller of all GUI related items and actions for the program. Inherits from tk.Tk to create a tk.root() from which tk.TopLevel windows can be sprouted</span>
</span><span id="MainGUI-40"><a href="#MainGUI-40"><span class="linenos"> 40</span></a><span class="sd">    and tk.after scheduling calls can be made.</span>
</span><span id="MainGUI-41"><a href="#MainGUI-41"><span class="linenos"> 41</span></a>
</span><span id="MainGUI-42"><a href="#MainGUI-42"><span class="linenos"> 42</span></a><span class="sd">    Attributes</span>
</span><span id="MainGUI-43"><a href="#MainGUI-43"><span class="linenos"> 43</span></a><span class="sd">    ----------</span>
</span><span id="MainGUI-44"><a href="#MainGUI-44"><span class="linenos"> 44</span></a><span class="sd">    - **exp_data** (*ExperimentProcessData*): An instance of `models.experiment_process_data` ExperimentProcessData,</span>
</span><span id="MainGUI-45"><a href="#MainGUI-45"><span class="linenos"> 45</span></a><span class="sd">    this attribute allows for access and modification of experiment variables, and access for to more specific models like</span>
</span><span id="MainGUI-46"><a href="#MainGUI-46"><span class="linenos"> 46</span></a><span class="sd">    `models.event_data` and `models.arduino_data`.</span>
</span><span id="MainGUI-47"><a href="#MainGUI-47"><span class="linenos"> 47</span></a><span class="sd">    - **arduino_controller** (*ArduinoManager*): An instance of `controllers.arduino_control` ArduinoManager, this allows for communication between this program and the</span>
</span><span id="MainGUI-48"><a href="#MainGUI-48"><span class="linenos"> 48</span></a><span class="sd">    Arduino board.</span>
</span><span id="MainGUI-49"><a href="#MainGUI-49"><span class="linenos"> 49</span></a><span class="sd">    - **trigger** (*Callback method*): trigger is the callback method from `app_logic` module `StateMachine` class, it allows the</span>
</span><span id="MainGUI-50"><a href="#MainGUI-50"><span class="linenos"> 50</span></a><span class="sd">    GUI to attempt state transitions.</span>
</span><span id="MainGUI-51"><a href="#MainGUI-51"><span class="linenos"> 51</span></a><span class="sd">    - **scheduled_tasks** (*dict[str,str]*): self.scheduled_tasks is a dict where keys are short task descriptions (e.g ttc_to_iti) and the values are</span>
</span><span id="MainGUI-52"><a href="#MainGUI-52"><span class="linenos"> 52</span></a><span class="sd">        the str ids for tkinter.after scheduling calls. This allows for tracking and cancellations of scheduled tasks.</span>
</span><span id="MainGUI-53"><a href="#MainGUI-53"><span class="linenos"> 53</span></a><span class="sd">    - (**windows**) (*dict*): A dictionary that holds window titles as keys, and instances of GUI sublasses as values. Allows for easy access of windows and their methods</span>
</span><span id="MainGUI-54"><a href="#MainGUI-54"><span class="linenos"> 54</span></a><span class="sd">        and attributes given a title.</span>
</span><span id="MainGUI-55"><a href="#MainGUI-55"><span class="linenos"> 55</span></a>
</span><span id="MainGUI-56"><a href="#MainGUI-56"><span class="linenos"> 56</span></a><span class="sd">    Methods</span>
</span><span id="MainGUI-57"><a href="#MainGUI-57"><span class="linenos"> 57</span></a><span class="sd">    -------</span>
</span><span id="MainGUI-58"><a href="#MainGUI-58"><span class="linenos"> 58</span></a><span class="sd">    - `setup_basic_window_attr`()</span>
</span><span id="MainGUI-59"><a href="#MainGUI-59"><span class="linenos"> 59</span></a><span class="sd">        This method sets basic window attributes like title, icon, and expansion settings.</span>
</span><span id="MainGUI-60"><a href="#MainGUI-60"><span class="linenos"> 60</span></a><span class="sd">    - `setup_tkinter_variables`()</span>
</span><span id="MainGUI-61"><a href="#MainGUI-61"><span class="linenos"> 61</span></a><span class="sd">        GUI (Tkinter) variables and acutal stored data for the program are decoupled to separate concerns. Here we link them such that when the GUI variables are updated,</span>
</span><span id="MainGUI-62"><a href="#MainGUI-62"><span class="linenos"> 62</span></a><span class="sd">        the data stored in the model is also updated.</span>
</span><span id="MainGUI-63"><a href="#MainGUI-63"><span class="linenos"> 63</span></a><span class="sd">    - `build_gui_widgets`()</span>
</span><span id="MainGUI-64"><a href="#MainGUI-64"><span class="linenos"> 64</span></a><span class="sd">        Setup all widgets to be placed in the MainGUI window.</span>
</span><span id="MainGUI-65"><a href="#MainGUI-65"><span class="linenos"> 65</span></a><span class="sd">    - `preload_secondary_windows`()</span>
</span><span id="MainGUI-66"><a href="#MainGUI-66"><span class="linenos"> 66</span></a><span class="sd">        This method loads all secondary windows and all content available at start time. This was done to reduce strain on system while program is running. Windows always</span>
</span><span id="MainGUI-67"><a href="#MainGUI-67"><span class="linenos"> 67</span></a><span class="sd">        exist and are simply hidden when not shown to user.</span>
</span><span id="MainGUI-68"><a href="#MainGUI-68"><span class="linenos"> 68</span></a><span class="sd">    - `show_secondary_window`()</span>
</span><span id="MainGUI-69"><a href="#MainGUI-69"><span class="linenos"> 69</span></a><span class="sd">        Takes a window description string for the `windows` dictionary. Access is given to the instance of the class for the description, where the windows `show` method is</span>
</span><span id="MainGUI-70"><a href="#MainGUI-70"><span class="linenos"> 70</span></a><span class="sd">        called.</span>
</span><span id="MainGUI-71"><a href="#MainGUI-71"><span class="linenos"> 71</span></a><span class="sd">    - `hide_secondary_window`()</span>
</span><span id="MainGUI-72"><a href="#MainGUI-72"><span class="linenos"> 72</span></a><span class="sd">        The opposing function to `show_secondary_window`. Hides the window specified as the `window` argument.</span>
</span><span id="MainGUI-73"><a href="#MainGUI-73"><span class="linenos"> 73</span></a><span class="sd">    - `create_top_control_buttons`()</span>
</span><span id="MainGUI-74"><a href="#MainGUI-74"><span class="linenos"> 74</span></a><span class="sd">        Create frames and buttons for top bar start an reset buttons.</span>
</span><span id="MainGUI-75"><a href="#MainGUI-75"><span class="linenos"> 75</span></a><span class="sd">    - `create_timers`()</span>
</span><span id="MainGUI-76"><a href="#MainGUI-76"><span class="linenos"> 76</span></a><span class="sd">        Create start and state start timer labels.</span>
</span><span id="MainGUI-77"><a href="#MainGUI-77"><span class="linenos"> 77</span></a><span class="sd">    - `create_status_widgets`()</span>
</span><span id="MainGUI-78"><a href="#MainGUI-78"><span class="linenos"> 78</span></a><span class="sd">        Create state status widgets such as state label, num trials progress bar and label, etc.</span>
</span><span id="MainGUI-79"><a href="#MainGUI-79"><span class="linenos"> 79</span></a><span class="sd">    - `create_entry_widgets`()</span>
</span><span id="MainGUI-80"><a href="#MainGUI-80"><span class="linenos"> 80</span></a><span class="sd">        Build entry widget and frames for ITI, TTC, Sample times, Num Trials, Num Stimuli.</span>
</span><span id="MainGUI-81"><a href="#MainGUI-81"><span class="linenos"> 81</span></a><span class="sd">    - `create_lower_control_buttons`()</span>
</span><span id="MainGUI-82"><a href="#MainGUI-82"><span class="linenos"> 82</span></a><span class="sd">        Create lower control buttons for opening windows and saving data.</span>
</span><span id="MainGUI-83"><a href="#MainGUI-83"><span class="linenos"> 83</span></a><span class="sd">    - `save_button_handler`()</span>
</span><span id="MainGUI-84"><a href="#MainGUI-84"><span class="linenos"> 84</span></a><span class="sd">        Define behavior for saving all data to xlsx files.</span>
</span><span id="MainGUI-85"><a href="#MainGUI-85"><span class="linenos"> 85</span></a><span class="sd">    - `update_clock_label`()</span>
</span><span id="MainGUI-86"><a href="#MainGUI-86"><span class="linenos"> 86</span></a><span class="sd">        Hold logic for updating GUI clocks every 100ms.</span>
</span><span id="MainGUI-87"><a href="#MainGUI-87"><span class="linenos"> 87</span></a><span class="sd">    - `update_max_time`()</span>
</span><span id="MainGUI-88"><a href="#MainGUI-88"><span class="linenos"> 88</span></a><span class="sd">        Calculate max program runtime.</span>
</span><span id="MainGUI-89"><a href="#MainGUI-89"><span class="linenos"> 89</span></a><span class="sd">    - `update_on_new_trial`()</span>
</span><span id="MainGUI-90"><a href="#MainGUI-90"><span class="linenos"> 90</span></a><span class="sd">        Define GUI objects to update each iteration (new ITI state) of program.</span>
</span><span id="MainGUI-91"><a href="#MainGUI-91"><span class="linenos"> 91</span></a><span class="sd">    - `update_on_state_change`()</span>
</span><span id="MainGUI-92"><a href="#MainGUI-92"><span class="linenos"> 92</span></a><span class="sd">        Define GUI objects to update upon each state (state timer, label, etc).</span>
</span><span id="MainGUI-93"><a href="#MainGUI-93"><span class="linenos"> 93</span></a><span class="sd">    - `update_on_stop`()</span>
</span><span id="MainGUI-94"><a href="#MainGUI-94"><span class="linenos"> 94</span></a><span class="sd">        Update GUI objects to reflect &quot;IDLE&quot; program state once stopped.</span>
</span><span id="MainGUI-95"><a href="#MainGUI-95"><span class="linenos"> 95</span></a><span class="sd">    - `on_close`()</span>
</span><span id="MainGUI-96"><a href="#MainGUI-96"><span class="linenos"> 96</span></a><span class="sd">        Defines GUI shutdown behavior when primary window is closed.</span>
</span><span id="MainGUI-97"><a href="#MainGUI-97"><span class="linenos"> 97</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MainGUI-98"><a href="#MainGUI-98"><span class="linenos"> 98</span></a>
</span><span id="MainGUI-99"><a href="#MainGUI-99"><span class="linenos"> 99</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="MainGUI-100"><a href="#MainGUI-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="MainGUI-101"><a href="#MainGUI-101"><span class="linenos">101</span></a>        <span class="n">exp_data</span><span class="p">:</span> <span class="n">ExperimentProcessData</span><span class="p">,</span>
</span><span id="MainGUI-102"><a href="#MainGUI-102"><span class="linenos">102</span></a>        <span class="n">trigger</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="MainGUI-103"><a href="#MainGUI-103"><span class="linenos">103</span></a>        <span class="n">arduino_controller</span><span class="p">:</span> <span class="n">ArduinoManager</span><span class="p">,</span>
</span><span id="MainGUI-104"><a href="#MainGUI-104"><span class="linenos">104</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-105"><a href="#MainGUI-105"><span class="linenos">105</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-106"><a href="#MainGUI-106"><span class="linenos">106</span></a><span class="sd">        Initialize the MainGUI window. Build all frames and widgets required by the main window *and* loads all secondary windows that can</span>
</span><span id="MainGUI-107"><a href="#MainGUI-107"><span class="linenos">107</span></a><span class="sd">        be opened by the lower control buttons. These are hidden after generation and deiconified (shown) when the button is pressed.</span>
</span><span id="MainGUI-108"><a href="#MainGUI-108"><span class="linenos">108</span></a>
</span><span id="MainGUI-109"><a href="#MainGUI-109"><span class="linenos">109</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI-110"><a href="#MainGUI-110"><span class="linenos">110</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI-111"><a href="#MainGUI-111"><span class="linenos">111</span></a><span class="sd">        - **exp_data** (*ExperimentProcessData*): A reference to the `models.experiment_process_data` ExperimentProcessData instance,</span>
</span><span id="MainGUI-112"><a href="#MainGUI-112"><span class="linenos">112</span></a><span class="sd">        this is used to model data based on user GUI interaction.</span>
</span><span id="MainGUI-113"><a href="#MainGUI-113"><span class="linenos">113</span></a><span class="sd">        - **trigger** (*Callback method*): This callback is passed in so that this state can trigger state transitions from GUI objects</span>
</span><span id="MainGUI-114"><a href="#MainGUI-114"><span class="linenos">114</span></a><span class="sd">        throughout the class.</span>
</span><span id="MainGUI-115"><a href="#MainGUI-115"><span class="linenos">115</span></a><span class="sd">        - **arduino_controller** (*ArduinoManager*): A reference to the `controllers.arduino_control` Arduino controller instance,</span>
</span><span id="MainGUI-116"><a href="#MainGUI-116"><span class="linenos">116</span></a><span class="sd">        this is the method by which the Arduino is communicated with in the program. `views.valve_testing.valve_testing_window`</span>
</span><span id="MainGUI-117"><a href="#MainGUI-117"><span class="linenos">117</span></a><span class="sd">        ValveTestWindow, and `views.valve_control_window` require references here to communicate with Arduino to calibrate and open/close</span>
</span><span id="MainGUI-118"><a href="#MainGUI-118"><span class="linenos">118</span></a><span class="sd">        valves. This is also used in `on_close` to stop the Arduino listener thread to avoid thread errors on window close.</span>
</span><span id="MainGUI-119"><a href="#MainGUI-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-120"><a href="#MainGUI-120"><span class="linenos">120</span></a>        <span class="c1"># init tk.Tk to use this class as a tk.root.</span>
</span><span id="MainGUI-121"><a href="#MainGUI-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MainGUI-122"><a href="#MainGUI-122"><span class="linenos">122</span></a>
</span><span id="MainGUI-123"><a href="#MainGUI-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span> <span class="o">=</span> <span class="n">exp_data</span>
</span><span id="MainGUI-124"><a href="#MainGUI-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span> <span class="o">=</span> <span class="n">arduino_controller</span>
</span><span id="MainGUI-125"><a href="#MainGUI-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span> <span class="o">=</span> <span class="n">trigger</span>
</span><span id="MainGUI-126"><a href="#MainGUI-126"><span class="linenos">126</span></a>
</span><span id="MainGUI-127"><a href="#MainGUI-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="MainGUI-128"><a href="#MainGUI-128"><span class="linenos">128</span></a>
</span><span id="MainGUI-129"><a href="#MainGUI-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_basic_window_attr</span><span class="p">()</span>
</span><span id="MainGUI-130"><a href="#MainGUI-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_tkinter_variables</span><span class="p">()</span>
</span><span id="MainGUI-131"><a href="#MainGUI-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">build_gui_widgets</span><span class="p">()</span>
</span><span id="MainGUI-132"><a href="#MainGUI-132"><span class="linenos">132</span></a>
</span><span id="MainGUI-133"><a href="#MainGUI-133"><span class="linenos">133</span></a>        <span class="c1"># update_idletasks so that window knows what elements are inside and what width and height they require,</span>
</span><span id="MainGUI-134"><a href="#MainGUI-134"><span class="linenos">134</span></a>        <span class="c1"># then scale and center the window.</span>
</span><span id="MainGUI-135"><a href="#MainGUI-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
</span><span id="MainGUI-136"><a href="#MainGUI-136"><span class="linenos">136</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">center_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MainGUI-137"><a href="#MainGUI-137"><span class="linenos">137</span></a>
</span><span id="MainGUI-138"><a href="#MainGUI-138"><span class="linenos">138</span></a>        <span class="c1"># create all secondary windows early so that loading when program is running is fast</span>
</span><span id="MainGUI-139"><a href="#MainGUI-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preload_secondary_windows</span><span class="p">()</span>
</span><span id="MainGUI-140"><a href="#MainGUI-140"><span class="linenos">140</span></a>
</span><span id="MainGUI-141"><a href="#MainGUI-141"><span class="linenos">141</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;MainGUI initialized.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-142"><a href="#MainGUI-142"><span class="linenos">142</span></a>
</span><span id="MainGUI-143"><a href="#MainGUI-143"><span class="linenos">143</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_basic_window_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainGUI-144"><a href="#MainGUI-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-145"><a href="#MainGUI-145"><span class="linenos">145</span></a><span class="sd">        Set basic window attributes such as title, size, window icon, protocol for closing the window, etc.</span>
</span><span id="MainGUI-146"><a href="#MainGUI-146"><span class="linenos">146</span></a><span class="sd">        We also bind &lt;Control-w&gt; keyboard shortcut to close the window for convenience. Finally,</span>
</span><span id="MainGUI-147"><a href="#MainGUI-147"><span class="linenos">147</span></a><span class="sd">        we set the grid rows and columns to expand and contract as window gets larger or smaller (weight=1).</span>
</span><span id="MainGUI-148"><a href="#MainGUI-148"><span class="linenos">148</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-149"><a href="#MainGUI-149"><span class="linenos">149</span></a>
</span><span id="MainGUI-150"><a href="#MainGUI-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Samuelsen Lab Photologic Rig&quot;</span><span class="p">)</span>
</span><span id="MainGUI-151"><a href="#MainGUI-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Control-w&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">())</span>
</span><span id="MainGUI-152"><a href="#MainGUI-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">)</span>
</span><span id="MainGUI-153"><a href="#MainGUI-153"><span class="linenos">153</span></a>
</span><span id="MainGUI-154"><a href="#MainGUI-154"><span class="linenos">154</span></a>        <span class="n">icon_path</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">get_window_icon_path</span><span class="p">()</span>
</span><span id="MainGUI-155"><a href="#MainGUI-155"><span class="linenos">155</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">set_program_icon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icon_path</span><span class="o">=</span><span class="n">icon_path</span><span class="p">)</span>
</span><span id="MainGUI-156"><a href="#MainGUI-156"><span class="linenos">156</span></a>
</span><span id="MainGUI-157"><a href="#MainGUI-157"><span class="linenos">157</span></a>        <span class="c1"># set cols and rows to expand to fill space in main gui</span>
</span><span id="MainGUI-158"><a href="#MainGUI-158"><span class="linenos">158</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span><span id="MainGUI-159"><a href="#MainGUI-159"><span class="linenos">159</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="MainGUI-160"><a href="#MainGUI-160"><span class="linenos">160</span></a>
</span><span id="MainGUI-161"><a href="#MainGUI-161"><span class="linenos">161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="MainGUI-162"><a href="#MainGUI-162"><span class="linenos">162</span></a>
</span><span id="MainGUI-163"><a href="#MainGUI-163"><span class="linenos">163</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_tkinter_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-164"><a href="#MainGUI-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-165"><a href="#MainGUI-165"><span class="linenos">165</span></a><span class="sd">        Tkinter variables for tkinter entries are created here. These are the variables updated on user input. Default values</span>
</span><span id="MainGUI-166"><a href="#MainGUI-166"><span class="linenos">166</span></a><span class="sd">        are set by finding the default value in `models.experiment_process_data`. Traces are added to each variable which update</span>
</span><span id="MainGUI-167"><a href="#MainGUI-167"><span class="linenos">167</span></a><span class="sd">        the model upon an update (write) to the Tkinter variable.</span>
</span><span id="MainGUI-168"><a href="#MainGUI-168"><span class="linenos">168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-169"><a href="#MainGUI-169"><span class="linenos">169</span></a>        <span class="c1"># tkinter variables for time related</span>
</span><span id="MainGUI-170"><a href="#MainGUI-170"><span class="linenos">170</span></a>        <span class="c1"># modifications in the experiment</span>
</span><span id="MainGUI-171"><a href="#MainGUI-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI-172"><a href="#MainGUI-172"><span class="linenos">172</span></a>            <span class="s2">&quot;ITI_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-173"><a href="#MainGUI-173"><span class="linenos">173</span></a>            <span class="s2">&quot;TTC_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-174"><a href="#MainGUI-174"><span class="linenos">174</span></a>            <span class="s2">&quot;sample_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-175"><a href="#MainGUI-175"><span class="linenos">175</span></a>            <span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-176"><a href="#MainGUI-176"><span class="linenos">176</span></a>            <span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-177"><a href="#MainGUI-177"><span class="linenos">177</span></a>            <span class="s2">&quot;sample_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-178"><a href="#MainGUI-178"><span class="linenos">178</span></a>        <span class="p">}</span>
</span><span id="MainGUI-179"><a href="#MainGUI-179"><span class="linenos">179</span></a>
</span><span id="MainGUI-180"><a href="#MainGUI-180"><span class="linenos">180</span></a>        <span class="c1"># fill the tkinter entry boxes with their default values as configured in self.exp_data</span>
</span><span id="MainGUI-181"><a href="#MainGUI-181"><span class="linenos">181</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="MainGUI-182"><a href="#MainGUI-182"><span class="linenos">182</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="MainGUI-183"><a href="#MainGUI-183"><span class="linenos">183</span></a>
</span><span id="MainGUI-184"><a href="#MainGUI-184"><span class="linenos">184</span></a>        <span class="c1"># we add traces to all of our tkinter variables so that on value update</span>
</span><span id="MainGUI-185"><a href="#MainGUI-185"><span class="linenos">185</span></a>        <span class="c1"># we sent those updates to the corresponding model (data storage location)</span>
</span><span id="MainGUI-186"><a href="#MainGUI-186"><span class="linenos">186</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="MainGUI-187"><a href="#MainGUI-187"><span class="linenos">187</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="MainGUI-188"><a href="#MainGUI-188"><span class="linenos">188</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="MainGUI-189"><a href="#MainGUI-189"><span class="linenos">189</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="MainGUI-190"><a href="#MainGUI-190"><span class="linenos">190</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="MainGUI-191"><a href="#MainGUI-191"><span class="linenos">191</span></a>                <span class="p">),</span>
</span><span id="MainGUI-192"><a href="#MainGUI-192"><span class="linenos">192</span></a>            <span class="p">)</span>
</span><span id="MainGUI-193"><a href="#MainGUI-193"><span class="linenos">193</span></a>
</span><span id="MainGUI-194"><a href="#MainGUI-194"><span class="linenos">194</span></a>        <span class="c1"># tkinter variables for other variables in the experiment such as num stimuli</span>
</span><span id="MainGUI-195"><a href="#MainGUI-195"><span class="linenos">195</span></a>        <span class="c1"># or number of trial blocks</span>
</span><span id="MainGUI-196"><a href="#MainGUI-196"><span class="linenos">196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI-197"><a href="#MainGUI-197"><span class="linenos">197</span></a>            <span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-198"><a href="#MainGUI-198"><span class="linenos">198</span></a>            <span class="s2">&quot;Num Stimuli&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI-199"><a href="#MainGUI-199"><span class="linenos">199</span></a>        <span class="p">}</span>
</span><span id="MainGUI-200"><a href="#MainGUI-200"><span class="linenos">200</span></a>
</span><span id="MainGUI-201"><a href="#MainGUI-201"><span class="linenos">201</span></a>        <span class="c1"># fill the exp_var entry boxes with their default values as configured in self.exp_data</span>
</span><span id="MainGUI-202"><a href="#MainGUI-202"><span class="linenos">202</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="MainGUI-203"><a href="#MainGUI-203"><span class="linenos">203</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="MainGUI-204"><a href="#MainGUI-204"><span class="linenos">204</span></a>
</span><span id="MainGUI-205"><a href="#MainGUI-205"><span class="linenos">205</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="MainGUI-206"><a href="#MainGUI-206"><span class="linenos">206</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="MainGUI-207"><a href="#MainGUI-207"><span class="linenos">207</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="MainGUI-208"><a href="#MainGUI-208"><span class="linenos">208</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="MainGUI-209"><a href="#MainGUI-209"><span class="linenos">209</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="MainGUI-210"><a href="#MainGUI-210"><span class="linenos">210</span></a>                <span class="p">),</span>
</span><span id="MainGUI-211"><a href="#MainGUI-211"><span class="linenos">211</span></a>            <span class="p">)</span>
</span><span id="MainGUI-212"><a href="#MainGUI-212"><span class="linenos">212</span></a>
</span><span id="MainGUI-213"><a href="#MainGUI-213"><span class="linenos">213</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_gui_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-214"><a href="#MainGUI-214"><span class="linenos">214</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-215"><a href="#MainGUI-215"><span class="linenos">215</span></a><span class="sd">        Build all GUI widgets by calling respective functions for each type of widget listed here.</span>
</span><span id="MainGUI-216"><a href="#MainGUI-216"><span class="linenos">216</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-217"><a href="#MainGUI-217"><span class="linenos">217</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-218"><a href="#MainGUI-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_top_control_buttons</span><span class="p">()</span>
</span><span id="MainGUI-219"><a href="#MainGUI-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_timers</span><span class="p">()</span>
</span><span id="MainGUI-220"><a href="#MainGUI-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_status_widgets</span><span class="p">()</span>
</span><span id="MainGUI-221"><a href="#MainGUI-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widgets</span><span class="p">()</span>
</span><span id="MainGUI-222"><a href="#MainGUI-222"><span class="linenos">222</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_lower_control_buttons</span><span class="p">()</span>
</span><span id="MainGUI-223"><a href="#MainGUI-223"><span class="linenos">223</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;GUI setup completed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-224"><a href="#MainGUI-224"><span class="linenos">224</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-225"><a href="#MainGUI-225"><span class="linenos">225</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error setting up GUI: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-226"><a href="#MainGUI-226"><span class="linenos">226</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-227"><a href="#MainGUI-227"><span class="linenos">227</span></a>
</span><span id="MainGUI-228"><a href="#MainGUI-228"><span class="linenos">228</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">preload_secondary_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-229"><a href="#MainGUI-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-230"><a href="#MainGUI-230"><span class="linenos">230</span></a><span class="sd">        Build all secondary windows (windows that require a button push to view) and get them ready</span>
</span><span id="MainGUI-231"><a href="#MainGUI-231"><span class="linenos">231</span></a><span class="sd">        to be opened (deiconified in tkinter terms) when the user clicks the corresponding button.</span>
</span><span id="MainGUI-232"><a href="#MainGUI-232"><span class="linenos">232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-233"><a href="#MainGUI-233"><span class="linenos">233</span></a>        <span class="c1"># define the data that ExperimentCtlWindow() needs to function</span>
</span><span id="MainGUI-234"><a href="#MainGUI-234"><span class="linenos">234</span></a>        <span class="n">stimuli_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">stimuli_data</span>
</span><span id="MainGUI-235"><a href="#MainGUI-235"><span class="linenos">235</span></a>        <span class="n">event_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span>
</span><span id="MainGUI-236"><a href="#MainGUI-236"><span class="linenos">236</span></a>
</span><span id="MainGUI-237"><a href="#MainGUI-237"><span class="linenos">237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI-238"><a href="#MainGUI-238"><span class="linenos">238</span></a>            <span class="s2">&quot;Experiment Control&quot;</span><span class="p">:</span> <span class="n">ExperimentCtlWindow</span><span class="p">(</span>
</span><span id="MainGUI-239"><a href="#MainGUI-239"><span class="linenos">239</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span> <span class="n">stimuli_data</span><span class="p">,</span> <span class="n">event_data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span>
</span><span id="MainGUI-240"><a href="#MainGUI-240"><span class="linenos">240</span></a>            <span class="p">),</span>
</span><span id="MainGUI-241"><a href="#MainGUI-241"><span class="linenos">241</span></a>            <span class="s2">&quot;Program Schedule&quot;</span><span class="p">:</span> <span class="n">ProgramScheduleWindow</span><span class="p">(</span>
</span><span id="MainGUI-242"><a href="#MainGUI-242"><span class="linenos">242</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span>
</span><span id="MainGUI-243"><a href="#MainGUI-243"><span class="linenos">243</span></a>                <span class="n">stimuli_data</span><span class="p">,</span>
</span><span id="MainGUI-244"><a href="#MainGUI-244"><span class="linenos">244</span></a>            <span class="p">),</span>
</span><span id="MainGUI-245"><a href="#MainGUI-245"><span class="linenos">245</span></a>            <span class="s2">&quot;Raster Plot&quot;</span><span class="p">:</span> <span class="p">(</span>
</span><span id="MainGUI-246"><a href="#MainGUI-246"><span class="linenos">246</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="MainGUI-247"><a href="#MainGUI-247"><span class="linenos">247</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="MainGUI-248"><a href="#MainGUI-248"><span class="linenos">248</span></a>            <span class="p">),</span>
</span><span id="MainGUI-249"><a href="#MainGUI-249"><span class="linenos">249</span></a>            <span class="s2">&quot;Event Data&quot;</span><span class="p">:</span> <span class="n">EventWindow</span><span class="p">(</span><span class="n">event_data</span><span class="p">),</span>
</span><span id="MainGUI-250"><a href="#MainGUI-250"><span class="linenos">250</span></a>            <span class="s2">&quot;Valve Testing&quot;</span><span class="p">:</span> <span class="n">ValveTestWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="MainGUI-251"><a href="#MainGUI-251"><span class="linenos">251</span></a>            <span class="s2">&quot;Valve Control&quot;</span><span class="p">:</span> <span class="n">ValveControlWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="MainGUI-252"><a href="#MainGUI-252"><span class="linenos">252</span></a>        <span class="p">}</span>
</span><span id="MainGUI-253"><a href="#MainGUI-253"><span class="linenos">253</span></a>
</span><span id="MainGUI-254"><a href="#MainGUI-254"><span class="linenos">254</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-255"><a href="#MainGUI-255"><span class="linenos">255</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-256"><a href="#MainGUI-256"><span class="linenos">256</span></a><span class="sd">        Show the window corresponding to a button press or other event calling this method. Accesses class attribute `windows` to gain</span>
</span><span id="MainGUI-257"><a href="#MainGUI-257"><span class="linenos">257</span></a><span class="sd">        accesss to the desired instance and call the class `show` method.</span>
</span><span id="MainGUI-258"><a href="#MainGUI-258"><span class="linenos">258</span></a>
</span><span id="MainGUI-259"><a href="#MainGUI-259"><span class="linenos">259</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI-260"><a href="#MainGUI-260"><span class="linenos">260</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI-261"><a href="#MainGUI-261"><span class="linenos">261</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="MainGUI-262"><a href="#MainGUI-262"><span class="linenos">262</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="MainGUI-263"><a href="#MainGUI-263"><span class="linenos">263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-264"><a href="#MainGUI-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="MainGUI-265"><a href="#MainGUI-265"><span class="linenos">265</span></a>            <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]:</span>
</span><span id="MainGUI-266"><a href="#MainGUI-266"><span class="linenos">266</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
</span><span id="MainGUI-267"><a href="#MainGUI-267"><span class="linenos">267</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MainGUI-268"><a href="#MainGUI-268"><span class="linenos">268</span></a>            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="MainGUI-269"><a href="#MainGUI-269"><span class="linenos">269</span></a>            <span class="k">if</span> <span class="n">window</span> <span class="o">==</span> <span class="s2">&quot;Valve Testing&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="MainGUI-270"><a href="#MainGUI-270"><span class="linenos">270</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">display_error</span><span class="p">(</span>
</span><span id="MainGUI-271"><a href="#MainGUI-271"><span class="linenos">271</span></a>                    <span class="s2">&quot;CANNOT DISPLAY WINDOW&quot;</span><span class="p">,</span>
</span><span id="MainGUI-272"><a href="#MainGUI-272"><span class="linenos">272</span></a>                    <span class="s2">&quot;Since the schedule has been generated, valve testing has been disabled for this experiment. Reset the application to test again.&quot;</span><span class="p">,</span>
</span><span id="MainGUI-273"><a href="#MainGUI-273"><span class="linenos">273</span></a>                <span class="p">)</span>
</span><span id="MainGUI-274"><a href="#MainGUI-274"><span class="linenos">274</span></a>                <span class="k">return</span>
</span><span id="MainGUI-275"><a href="#MainGUI-275"><span class="linenos">275</span></a>
</span><span id="MainGUI-276"><a href="#MainGUI-276"><span class="linenos">276</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MainGUI-277"><a href="#MainGUI-277"><span class="linenos">277</span></a>
</span><span id="MainGUI-278"><a href="#MainGUI-278"><span class="linenos">278</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">hide_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-279"><a href="#MainGUI-279"><span class="linenos">279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-280"><a href="#MainGUI-280"><span class="linenos">280</span></a><span class="sd">        Performs the opposite action of `show_secondary_window`. Hides the window without destroyoing it by calling tkinter method</span>
</span><span id="MainGUI-281"><a href="#MainGUI-281"><span class="linenos">281</span></a><span class="sd">        &#39;withdraw&#39; on the tk.TopLevel (class/`windows` dict value) instance.</span>
</span><span id="MainGUI-282"><a href="#MainGUI-282"><span class="linenos">282</span></a>
</span><span id="MainGUI-283"><a href="#MainGUI-283"><span class="linenos">283</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI-284"><a href="#MainGUI-284"><span class="linenos">284</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI-285"><a href="#MainGUI-285"><span class="linenos">285</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="MainGUI-286"><a href="#MainGUI-286"><span class="linenos">286</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="MainGUI-287"><a href="#MainGUI-287"><span class="linenos">287</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-288"><a href="#MainGUI-288"><span class="linenos">288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
</span><span id="MainGUI-289"><a href="#MainGUI-289"><span class="linenos">289</span></a>
</span><span id="MainGUI-290"><a href="#MainGUI-290"><span class="linenos">290</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_top_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-291"><a href="#MainGUI-291"><span class="linenos">291</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-292"><a href="#MainGUI-292"><span class="linenos">292</span></a><span class="sd">        Creates frame to contain top control buttons, then utilizes `views.gui_common` `GUIUtils` methods to create buttons for</span>
</span><span id="MainGUI-293"><a href="#MainGUI-293"><span class="linenos">293</span></a><span class="sd">        &#39;Start/Stop&#39; and &#39;Reset&#39; button functions.</span>
</span><span id="MainGUI-294"><a href="#MainGUI-294"><span class="linenos">294</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-295"><a href="#MainGUI-295"><span class="linenos">295</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-296"><a href="#MainGUI-296"><span class="linenos">296</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-297"><a href="#MainGUI-297"><span class="linenos">297</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI-298"><a href="#MainGUI-298"><span class="linenos">298</span></a>            <span class="p">)</span>
</span><span id="MainGUI-299"><a href="#MainGUI-299"><span class="linenos">299</span></a>
</span><span id="MainGUI-300"><a href="#MainGUI-300"><span class="linenos">300</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">start_button_frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-301"><a href="#MainGUI-301"><span class="linenos">301</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="MainGUI-302"><a href="#MainGUI-302"><span class="linenos">302</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span>
</span><span id="MainGUI-303"><a href="#MainGUI-303"><span class="linenos">303</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;START&quot;</span><span class="p">),</span>
</span><span id="MainGUI-304"><a href="#MainGUI-304"><span class="linenos">304</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
</span><span id="MainGUI-305"><a href="#MainGUI-305"><span class="linenos">305</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-306"><a href="#MainGUI-306"><span class="linenos">306</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-307"><a href="#MainGUI-307"><span class="linenos">307</span></a>            <span class="p">)</span>
</span><span id="MainGUI-308"><a href="#MainGUI-308"><span class="linenos">308</span></a>
</span><span id="MainGUI-309"><a href="#MainGUI-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">reset_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-310"><a href="#MainGUI-310"><span class="linenos">310</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="MainGUI-311"><a href="#MainGUI-311"><span class="linenos">311</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
</span><span id="MainGUI-312"><a href="#MainGUI-312"><span class="linenos">312</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;RESET&quot;</span><span class="p">),</span>
</span><span id="MainGUI-313"><a href="#MainGUI-313"><span class="linenos">313</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-314"><a href="#MainGUI-314"><span class="linenos">314</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-315"><a href="#MainGUI-315"><span class="linenos">315</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-316"><a href="#MainGUI-316"><span class="linenos">316</span></a>            <span class="p">)</span>
</span><span id="MainGUI-317"><a href="#MainGUI-317"><span class="linenos">317</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Main control buttons displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-318"><a href="#MainGUI-318"><span class="linenos">318</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-319"><a href="#MainGUI-319"><span class="linenos">319</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying main control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-320"><a href="#MainGUI-320"><span class="linenos">320</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-321"><a href="#MainGUI-321"><span class="linenos">321</span></a>
</span><span id="MainGUI-322"><a href="#MainGUI-322"><span class="linenos">322</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_timers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-323"><a href="#MainGUI-323"><span class="linenos">323</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-324"><a href="#MainGUI-324"><span class="linenos">324</span></a><span class="sd">        Creates frame to contain program timer, max runtime timer, and state timer. Then builds both timers and places them into the frame.</span>
</span><span id="MainGUI-325"><a href="#MainGUI-325"><span class="linenos">325</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-326"><a href="#MainGUI-326"><span class="linenos">326</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-327"><a href="#MainGUI-327"><span class="linenos">327</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-328"><a href="#MainGUI-328"><span class="linenos">328</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI-329"><a href="#MainGUI-329"><span class="linenos">329</span></a>            <span class="p">)</span>
</span><span id="MainGUI-330"><a href="#MainGUI-330"><span class="linenos">330</span></a>
</span><span id="MainGUI-331"><a href="#MainGUI-331"><span class="linenos">331</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI-332"><a href="#MainGUI-332"><span class="linenos">332</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Time Elapsed:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="MainGUI-333"><a href="#MainGUI-333"><span class="linenos">333</span></a>            <span class="p">)</span>
</span><span id="MainGUI-334"><a href="#MainGUI-334"><span class="linenos">334</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-335"><a href="#MainGUI-335"><span class="linenos">335</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
</span><span id="MainGUI-336"><a href="#MainGUI-336"><span class="linenos">336</span></a>            <span class="p">)</span>
</span><span id="MainGUI-337"><a href="#MainGUI-337"><span class="linenos">337</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="MainGUI-338"><a href="#MainGUI-338"><span class="linenos">338</span></a>
</span><span id="MainGUI-339"><a href="#MainGUI-339"><span class="linenos">339</span></a>            <span class="c1">######  BEGIN max total time frame #####</span>
</span><span id="MainGUI-340"><a href="#MainGUI-340"><span class="linenos">340</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="MainGUI-341"><a href="#MainGUI-341"><span class="linenos">341</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI-342"><a href="#MainGUI-342"><span class="linenos">342</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Maximum Total Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0 Minutes, 0 S&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span><span id="MainGUI-343"><a href="#MainGUI-343"><span class="linenos">343</span></a>                <span class="p">)</span>
</span><span id="MainGUI-344"><a href="#MainGUI-344"><span class="linenos">344</span></a>            <span class="p">)</span>
</span><span id="MainGUI-345"><a href="#MainGUI-345"><span class="linenos">345</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
</span><span id="MainGUI-346"><a href="#MainGUI-346"><span class="linenos">346</span></a>
</span><span id="MainGUI-347"><a href="#MainGUI-347"><span class="linenos">347</span></a>            <span class="c1">######  BEGIN state time frame #####</span>
</span><span id="MainGUI-348"><a href="#MainGUI-348"><span class="linenos">348</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI-349"><a href="#MainGUI-349"><span class="linenos">349</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;State Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="MainGUI-350"><a href="#MainGUI-350"><span class="linenos">350</span></a>            <span class="p">)</span>
</span><span id="MainGUI-351"><a href="#MainGUI-351"><span class="linenos">351</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-352"><a href="#MainGUI-352"><span class="linenos">352</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span>
</span><span id="MainGUI-353"><a href="#MainGUI-353"><span class="linenos">353</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ 0.0s&quot;</span><span class="p">,</span>
</span><span id="MainGUI-354"><a href="#MainGUI-354"><span class="linenos">354</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-355"><a href="#MainGUI-355"><span class="linenos">355</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI-356"><a href="#MainGUI-356"><span class="linenos">356</span></a>            <span class="p">)</span>
</span><span id="MainGUI-357"><a href="#MainGUI-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="MainGUI-358"><a href="#MainGUI-358"><span class="linenos">358</span></a>
</span><span id="MainGUI-359"><a href="#MainGUI-359"><span class="linenos">359</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Timers created.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-360"><a href="#MainGUI-360"><span class="linenos">360</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-361"><a href="#MainGUI-361"><span class="linenos">361</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying timers: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-362"><a href="#MainGUI-362"><span class="linenos">362</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-363"><a href="#MainGUI-363"><span class="linenos">363</span></a>
</span><span id="MainGUI-364"><a href="#MainGUI-364"><span class="linenos">364</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_status_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-365"><a href="#MainGUI-365"><span class="linenos">365</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-366"><a href="#MainGUI-366"><span class="linenos">366</span></a><span class="sd">        Creates frames for status widgets (state label, trial number/progress bar, current stimuli, etc), builds these widgets and places them</span>
</span><span id="MainGUI-367"><a href="#MainGUI-367"><span class="linenos">367</span></a><span class="sd">        into their respective frames.</span>
</span><span id="MainGUI-368"><a href="#MainGUI-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-369"><a href="#MainGUI-369"><span class="linenos">369</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-370"><a href="#MainGUI-370"><span class="linenos">370</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-371"><a href="#MainGUI-371"><span class="linenos">371</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI-372"><a href="#MainGUI-372"><span class="linenos">372</span></a>            <span class="p">)</span>
</span><span id="MainGUI-373"><a href="#MainGUI-373"><span class="linenos">373</span></a>
</span><span id="MainGUI-374"><a href="#MainGUI-374"><span class="linenos">374</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-375"><a href="#MainGUI-375"><span class="linenos">375</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="MainGUI-376"><a href="#MainGUI-376"><span class="linenos">376</span></a>            <span class="p">)</span>
</span><span id="MainGUI-377"><a href="#MainGUI-377"><span class="linenos">377</span></a>
</span><span id="MainGUI-378"><a href="#MainGUI-378"><span class="linenos">378</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-379"><a href="#MainGUI-379"><span class="linenos">379</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="MainGUI-380"><a href="#MainGUI-380"><span class="linenos">380</span></a>            <span class="p">)</span>
</span><span id="MainGUI-381"><a href="#MainGUI-381"><span class="linenos">381</span></a>
</span><span id="MainGUI-382"><a href="#MainGUI-382"><span class="linenos">382</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-383"><a href="#MainGUI-383"><span class="linenos">383</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI-384"><a href="#MainGUI-384"><span class="linenos">384</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: Idle&quot;</span><span class="p">,</span>
</span><span id="MainGUI-385"><a href="#MainGUI-385"><span class="linenos">385</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI-386"><a href="#MainGUI-386"><span class="linenos">386</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-387"><a href="#MainGUI-387"><span class="linenos">387</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-388"><a href="#MainGUI-388"><span class="linenos">388</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-389"><a href="#MainGUI-389"><span class="linenos">389</span></a>            <span class="p">)</span>
</span><span id="MainGUI-390"><a href="#MainGUI-390"><span class="linenos">390</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="MainGUI-391"><a href="#MainGUI-391"><span class="linenos">391</span></a>
</span><span id="MainGUI-392"><a href="#MainGUI-392"><span class="linenos">392</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-393"><a href="#MainGUI-393"><span class="linenos">393</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI-394"><a href="#MainGUI-394"><span class="linenos">394</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;0 / 0 Trials Completed&quot;</span><span class="p">,</span>
</span><span id="MainGUI-395"><a href="#MainGUI-395"><span class="linenos">395</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
</span><span id="MainGUI-396"><a href="#MainGUI-396"><span class="linenos">396</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-397"><a href="#MainGUI-397"><span class="linenos">397</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-398"><a href="#MainGUI-398"><span class="linenos">398</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-399"><a href="#MainGUI-399"><span class="linenos">399</span></a>            <span class="p">)</span>
</span><span id="MainGUI-400"><a href="#MainGUI-400"><span class="linenos">400</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="MainGUI-401"><a href="#MainGUI-401"><span class="linenos">401</span></a>
</span><span id="MainGUI-402"><a href="#MainGUI-402"><span class="linenos">402</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span>
</span><span id="MainGUI-403"><a href="#MainGUI-403"><span class="linenos">403</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI-404"><a href="#MainGUI-404"><span class="linenos">404</span></a>                <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span>
</span><span id="MainGUI-405"><a href="#MainGUI-405"><span class="linenos">405</span></a>                <span class="n">length</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
</span><span id="MainGUI-406"><a href="#MainGUI-406"><span class="linenos">406</span></a>                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;determinate&quot;</span><span class="p">,</span>
</span><span id="MainGUI-407"><a href="#MainGUI-407"><span class="linenos">407</span></a>                <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-408"><a href="#MainGUI-408"><span class="linenos">408</span></a>            <span class="p">)</span>
</span><span id="MainGUI-409"><a href="#MainGUI-409"><span class="linenos">409</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI-410"><a href="#MainGUI-410"><span class="linenos">410</span></a>
</span><span id="MainGUI-411"><a href="#MainGUI-411"><span class="linenos">411</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-412"><a href="#MainGUI-412"><span class="linenos">412</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="MainGUI-413"><a href="#MainGUI-413"><span class="linenos">413</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Side One | VS | Side Two&quot;</span><span class="p">,</span>
</span><span id="MainGUI-414"><a href="#MainGUI-414"><span class="linenos">414</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI-415"><a href="#MainGUI-415"><span class="linenos">415</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-416"><a href="#MainGUI-416"><span class="linenos">416</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-417"><a href="#MainGUI-417"><span class="linenos">417</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-418"><a href="#MainGUI-418"><span class="linenos">418</span></a>            <span class="p">)</span>
</span><span id="MainGUI-419"><a href="#MainGUI-419"><span class="linenos">419</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI-420"><a href="#MainGUI-420"><span class="linenos">420</span></a>
</span><span id="MainGUI-421"><a href="#MainGUI-421"><span class="linenos">421</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI-422"><a href="#MainGUI-422"><span class="linenos">422</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="MainGUI-423"><a href="#MainGUI-423"><span class="linenos">423</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Trial Number: &quot;</span><span class="p">,</span>
</span><span id="MainGUI-424"><a href="#MainGUI-424"><span class="linenos">424</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI-425"><a href="#MainGUI-425"><span class="linenos">425</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-426"><a href="#MainGUI-426"><span class="linenos">426</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-427"><a href="#MainGUI-427"><span class="linenos">427</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI-428"><a href="#MainGUI-428"><span class="linenos">428</span></a>            <span class="p">)</span>
</span><span id="MainGUI-429"><a href="#MainGUI-429"><span class="linenos">429</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI-430"><a href="#MainGUI-430"><span class="linenos">430</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Status widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-431"><a href="#MainGUI-431"><span class="linenos">431</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-432"><a href="#MainGUI-432"><span class="linenos">432</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying status widget: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-433"><a href="#MainGUI-433"><span class="linenos">433</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-434"><a href="#MainGUI-434"><span class="linenos">434</span></a>
</span><span id="MainGUI-435"><a href="#MainGUI-435"><span class="linenos">435</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_entry_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-436"><a href="#MainGUI-436"><span class="linenos">436</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-437"><a href="#MainGUI-437"><span class="linenos">437</span></a><span class="sd">        Creates frame to store labels and entries for ITI, TTC, Sample times using `views.gui_common` GUIUtils static class methods.</span>
</span><span id="MainGUI-438"><a href="#MainGUI-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-439"><a href="#MainGUI-439"><span class="linenos">439</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-440"><a href="#MainGUI-440"><span class="linenos">440</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-441"><a href="#MainGUI-441"><span class="linenos">441</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="MainGUI-442"><a href="#MainGUI-442"><span class="linenos">442</span></a>            <span class="p">)</span>
</span><span id="MainGUI-443"><a href="#MainGUI-443"><span class="linenos">443</span></a>
</span><span id="MainGUI-444"><a href="#MainGUI-444"><span class="linenos">444</span></a>            <span class="c1"># Simplify the creation of labeled entries</span>
</span><span id="MainGUI-445"><a href="#MainGUI-445"><span class="linenos">445</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-446"><a href="#MainGUI-446"><span class="linenos">446</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-447"><a href="#MainGUI-447"><span class="linenos">447</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;ITI Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI-448"><a href="#MainGUI-448"><span class="linenos">448</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI-449"><a href="#MainGUI-449"><span class="linenos">449</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-450"><a href="#MainGUI-450"><span class="linenos">450</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-451"><a href="#MainGUI-451"><span class="linenos">451</span></a>            <span class="p">)</span>
</span><span id="MainGUI-452"><a href="#MainGUI-452"><span class="linenos">452</span></a>
</span><span id="MainGUI-453"><a href="#MainGUI-453"><span class="linenos">453</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-454"><a href="#MainGUI-454"><span class="linenos">454</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-455"><a href="#MainGUI-455"><span class="linenos">455</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;TTC Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI-456"><a href="#MainGUI-456"><span class="linenos">456</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI-457"><a href="#MainGUI-457"><span class="linenos">457</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-458"><a href="#MainGUI-458"><span class="linenos">458</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-459"><a href="#MainGUI-459"><span class="linenos">459</span></a>            <span class="p">)</span>
</span><span id="MainGUI-460"><a href="#MainGUI-460"><span class="linenos">460</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-461"><a href="#MainGUI-461"><span class="linenos">461</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-462"><a href="#MainGUI-462"><span class="linenos">462</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;Sample Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI-463"><a href="#MainGUI-463"><span class="linenos">463</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI-464"><a href="#MainGUI-464"><span class="linenos">464</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-465"><a href="#MainGUI-465"><span class="linenos">465</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI-466"><a href="#MainGUI-466"><span class="linenos">466</span></a>            <span class="p">)</span>
</span><span id="MainGUI-467"><a href="#MainGUI-467"><span class="linenos">467</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_trial_blocks_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-468"><a href="#MainGUI-468"><span class="linenos">468</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-469"><a href="#MainGUI-469"><span class="linenos">469</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Trial Blocks&quot;</span><span class="p">,</span>
</span><span id="MainGUI-470"><a href="#MainGUI-470"><span class="linenos">470</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">],</span>
</span><span id="MainGUI-471"><a href="#MainGUI-471"><span class="linenos">471</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-472"><a href="#MainGUI-472"><span class="linenos">472</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI-473"><a href="#MainGUI-473"><span class="linenos">473</span></a>            <span class="p">)</span>
</span><span id="MainGUI-474"><a href="#MainGUI-474"><span class="linenos">474</span></a>
</span><span id="MainGUI-475"><a href="#MainGUI-475"><span class="linenos">475</span></a>            <span class="c1"># Similarly for random plus/minus intervals and the number of stimuli</span>
</span><span id="MainGUI-476"><a href="#MainGUI-476"><span class="linenos">476</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-477"><a href="#MainGUI-477"><span class="linenos">477</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-478"><a href="#MainGUI-478"><span class="linenos">478</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- ITI&quot;</span><span class="p">,</span>
</span><span id="MainGUI-479"><a href="#MainGUI-479"><span class="linenos">479</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI-480"><a href="#MainGUI-480"><span class="linenos">480</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-481"><a href="#MainGUI-481"><span class="linenos">481</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-482"><a href="#MainGUI-482"><span class="linenos">482</span></a>            <span class="p">)</span>
</span><span id="MainGUI-483"><a href="#MainGUI-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-484"><a href="#MainGUI-484"><span class="linenos">484</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-485"><a href="#MainGUI-485"><span class="linenos">485</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- TTC&quot;</span><span class="p">,</span>
</span><span id="MainGUI-486"><a href="#MainGUI-486"><span class="linenos">486</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI-487"><a href="#MainGUI-487"><span class="linenos">487</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-488"><a href="#MainGUI-488"><span class="linenos">488</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-489"><a href="#MainGUI-489"><span class="linenos">489</span></a>            <span class="p">)</span>
</span><span id="MainGUI-490"><a href="#MainGUI-490"><span class="linenos">490</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Random_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-491"><a href="#MainGUI-491"><span class="linenos">491</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-492"><a href="#MainGUI-492"><span class="linenos">492</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- Sample&quot;</span><span class="p">,</span>
</span><span id="MainGUI-493"><a href="#MainGUI-493"><span class="linenos">493</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI-494"><a href="#MainGUI-494"><span class="linenos">494</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-495"><a href="#MainGUI-495"><span class="linenos">495</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI-496"><a href="#MainGUI-496"><span class="linenos">496</span></a>            <span class="p">)</span>
</span><span id="MainGUI-497"><a href="#MainGUI-497"><span class="linenos">497</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_stimuli_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI-498"><a href="#MainGUI-498"><span class="linenos">498</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI-499"><a href="#MainGUI-499"><span class="linenos">499</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Stimuli&quot;</span><span class="p">,</span>
</span><span id="MainGUI-500"><a href="#MainGUI-500"><span class="linenos">500</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Stimuli&quot;</span><span class="p">],</span>
</span><span id="MainGUI-501"><a href="#MainGUI-501"><span class="linenos">501</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-502"><a href="#MainGUI-502"><span class="linenos">502</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI-503"><a href="#MainGUI-503"><span class="linenos">503</span></a>            <span class="p">)</span>
</span><span id="MainGUI-504"><a href="#MainGUI-504"><span class="linenos">504</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Entry widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-505"><a href="#MainGUI-505"><span class="linenos">505</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-506"><a href="#MainGUI-506"><span class="linenos">506</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying entry widgets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-507"><a href="#MainGUI-507"><span class="linenos">507</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-508"><a href="#MainGUI-508"><span class="linenos">508</span></a>
</span><span id="MainGUI-509"><a href="#MainGUI-509"><span class="linenos">509</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_lower_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-510"><a href="#MainGUI-510"><span class="linenos">510</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-511"><a href="#MainGUI-511"><span class="linenos">511</span></a><span class="sd">        Creates frame for lower control buttons (those that open windows and save data) and sets their command to open (deiconify) their</span>
</span><span id="MainGUI-512"><a href="#MainGUI-512"><span class="linenos">512</span></a><span class="sd">        respective window.</span>
</span><span id="MainGUI-513"><a href="#MainGUI-513"><span class="linenos">513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-514"><a href="#MainGUI-514"><span class="linenos">514</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-515"><a href="#MainGUI-515"><span class="linenos">515</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI-516"><a href="#MainGUI-516"><span class="linenos">516</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="MainGUI-517"><a href="#MainGUI-517"><span class="linenos">517</span></a>            <span class="p">)</span>
</span><span id="MainGUI-518"><a href="#MainGUI-518"><span class="linenos">518</span></a>
</span><span id="MainGUI-519"><a href="#MainGUI-519"><span class="linenos">519</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">test_valves_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-520"><a href="#MainGUI-520"><span class="linenos">520</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-521"><a href="#MainGUI-521"><span class="linenos">521</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Testing / Prime Valves&quot;</span><span class="p">,</span>
</span><span id="MainGUI-522"><a href="#MainGUI-522"><span class="linenos">522</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Testing&quot;</span><span class="p">),</span>
</span><span id="MainGUI-523"><a href="#MainGUI-523"><span class="linenos">523</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-524"><a href="#MainGUI-524"><span class="linenos">524</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-525"><a href="#MainGUI-525"><span class="linenos">525</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-526"><a href="#MainGUI-526"><span class="linenos">526</span></a>            <span class="p">)</span>
</span><span id="MainGUI-527"><a href="#MainGUI-527"><span class="linenos">527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">valve_control_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-528"><a href="#MainGUI-528"><span class="linenos">528</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-529"><a href="#MainGUI-529"><span class="linenos">529</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">,</span>
</span><span id="MainGUI-530"><a href="#MainGUI-530"><span class="linenos">530</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">),</span>
</span><span id="MainGUI-531"><a href="#MainGUI-531"><span class="linenos">531</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-532"><a href="#MainGUI-532"><span class="linenos">532</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-533"><a href="#MainGUI-533"><span class="linenos">533</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-534"><a href="#MainGUI-534"><span class="linenos">534</span></a>            <span class="p">)</span>
</span><span id="MainGUI-535"><a href="#MainGUI-535"><span class="linenos">535</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_schedule_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-536"><a href="#MainGUI-536"><span class="linenos">536</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-537"><a href="#MainGUI-537"><span class="linenos">537</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">,</span>
</span><span id="MainGUI-538"><a href="#MainGUI-538"><span class="linenos">538</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">),</span>
</span><span id="MainGUI-539"><a href="#MainGUI-539"><span class="linenos">539</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-540"><a href="#MainGUI-540"><span class="linenos">540</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-541"><a href="#MainGUI-541"><span class="linenos">541</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI-542"><a href="#MainGUI-542"><span class="linenos">542</span></a>            <span class="p">)</span>
</span><span id="MainGUI-543"><a href="#MainGUI-543"><span class="linenos">543</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_ctrl_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-544"><a href="#MainGUI-544"><span class="linenos">544</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-545"><a href="#MainGUI-545"><span class="linenos">545</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve / Stimuli&quot;</span><span class="p">,</span>
</span><span id="MainGUI-546"><a href="#MainGUI-546"><span class="linenos">546</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Experiment Control&quot;</span><span class="p">),</span>
</span><span id="MainGUI-547"><a href="#MainGUI-547"><span class="linenos">547</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-548"><a href="#MainGUI-548"><span class="linenos">548</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-549"><a href="#MainGUI-549"><span class="linenos">549</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI-550"><a href="#MainGUI-550"><span class="linenos">550</span></a>            <span class="p">)</span>
</span><span id="MainGUI-551"><a href="#MainGUI-551"><span class="linenos">551</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lick_window_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-552"><a href="#MainGUI-552"><span class="linenos">552</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-553"><a href="#MainGUI-553"><span class="linenos">553</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Event Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI-554"><a href="#MainGUI-554"><span class="linenos">554</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Event Data&quot;</span><span class="p">),</span>
</span><span id="MainGUI-555"><a href="#MainGUI-555"><span class="linenos">555</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-556"><a href="#MainGUI-556"><span class="linenos">556</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-557"><a href="#MainGUI-557"><span class="linenos">557</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-558"><a href="#MainGUI-558"><span class="linenos">558</span></a>            <span class="p">)</span>
</span><span id="MainGUI-559"><a href="#MainGUI-559"><span class="linenos">559</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raster_plot_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-560"><a href="#MainGUI-560"><span class="linenos">560</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-561"><a href="#MainGUI-561"><span class="linenos">561</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Rasterized Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI-562"><a href="#MainGUI-562"><span class="linenos">562</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Raster Plot&quot;</span><span class="p">),</span>
</span><span id="MainGUI-563"><a href="#MainGUI-563"><span class="linenos">563</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-564"><a href="#MainGUI-564"><span class="linenos">564</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-565"><a href="#MainGUI-565"><span class="linenos">565</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI-566"><a href="#MainGUI-566"><span class="linenos">566</span></a>            <span class="p">)</span>
</span><span id="MainGUI-567"><a href="#MainGUI-567"><span class="linenos">567</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">save_data_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI-568"><a href="#MainGUI-568"><span class="linenos">568</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI-569"><a href="#MainGUI-569"><span class="linenos">569</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Save Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI-570"><a href="#MainGUI-570"><span class="linenos">570</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_button_handler</span><span class="p">(),</span>
</span><span id="MainGUI-571"><a href="#MainGUI-571"><span class="linenos">571</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI-572"><a href="#MainGUI-572"><span class="linenos">572</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI-573"><a href="#MainGUI-573"><span class="linenos">573</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI-574"><a href="#MainGUI-574"><span class="linenos">574</span></a>            <span class="p">)</span>
</span><span id="MainGUI-575"><a href="#MainGUI-575"><span class="linenos">575</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Lower control buttons created.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-576"><a href="#MainGUI-576"><span class="linenos">576</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-577"><a href="#MainGUI-577"><span class="linenos">577</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying lower control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-578"><a href="#MainGUI-578"><span class="linenos">578</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-579"><a href="#MainGUI-579"><span class="linenos">579</span></a>
</span><span id="MainGUI-580"><a href="#MainGUI-580"><span class="linenos">580</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">save_button_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-581"><a href="#MainGUI-581"><span class="linenos">581</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-582"><a href="#MainGUI-582"><span class="linenos">582</span></a><span class="sd">        Here we define behavior for clicking the &#39;Save Data&#39; button. If either main dataframe is empty, we inform the user of this, otherwise</span>
</span><span id="MainGUI-583"><a href="#MainGUI-583"><span class="linenos">583</span></a><span class="sd">        we call the `save_all_data` method from `models.experiment_process_data`.</span>
</span><span id="MainGUI-584"><a href="#MainGUI-584"><span class="linenos">584</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-585"><a href="#MainGUI-585"><span class="linenos">585</span></a>        <span class="n">sched_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="MainGUI-586"><a href="#MainGUI-586"><span class="linenos">586</span></a>        <span class="n">event_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span><span class="o">.</span><span class="n">event_dataframe</span>
</span><span id="MainGUI-587"><a href="#MainGUI-587"><span class="linenos">587</span></a>
</span><span id="MainGUI-588"><a href="#MainGUI-588"><span class="linenos">588</span></a>        <span class="k">if</span> <span class="n">sched_df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="n">event_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="MainGUI-589"><a href="#MainGUI-589"><span class="linenos">589</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span>
</span><span id="MainGUI-590"><a href="#MainGUI-590"><span class="linenos">590</span></a>                <span class="s2">&quot;Hmm...&quot;</span><span class="p">,</span>
</span><span id="MainGUI-591"><a href="#MainGUI-591"><span class="linenos">591</span></a>                <span class="s2">&quot;One some of your data appears missing or empty... save anyway?&quot;</span><span class="p">,</span>
</span><span id="MainGUI-592"><a href="#MainGUI-592"><span class="linenos">592</span></a>            <span class="p">)</span>
</span><span id="MainGUI-593"><a href="#MainGUI-593"><span class="linenos">593</span></a>
</span><span id="MainGUI-594"><a href="#MainGUI-594"><span class="linenos">594</span></a>            <span class="k">if</span> <span class="n">response</span><span class="p">:</span>
</span><span id="MainGUI-595"><a href="#MainGUI-595"><span class="linenos">595</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span><span id="MainGUI-596"><a href="#MainGUI-596"><span class="linenos">596</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MainGUI-597"><a href="#MainGUI-597"><span class="linenos">597</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span><span id="MainGUI-598"><a href="#MainGUI-598"><span class="linenos">598</span></a>
</span><span id="MainGUI-599"><a href="#MainGUI-599"><span class="linenos">599</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_clock_label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-600"><a href="#MainGUI-600"><span class="linenos">600</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-601"><a href="#MainGUI-601"><span class="linenos">601</span></a><span class="sd">        This method defines logic to update primary timers such as main program timer and state timer. Max time is only updated once, but this</span>
</span><span id="MainGUI-602"><a href="#MainGUI-602"><span class="linenos">602</span></a><span class="sd">        operation is separated from this method. This task is scheduled via a tkinter.after call to execute every 100ms so that the main timer</span>
</span><span id="MainGUI-603"><a href="#MainGUI-603"><span class="linenos">603</span></a><span class="sd">        is responsive without overwhelming the main thread.</span>
</span><span id="MainGUI-604"><a href="#MainGUI-604"><span class="linenos">604</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-605"><a href="#MainGUI-605"><span class="linenos">605</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-606"><a href="#MainGUI-606"><span class="linenos">606</span></a>            <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="MainGUI-607"><a href="#MainGUI-607"><span class="linenos">607</span></a>            <span class="n">state_elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">state_start_time</span>
</span><span id="MainGUI-608"><a href="#MainGUI-608"><span class="linenos">608</span></a>
</span><span id="MainGUI-609"><a href="#MainGUI-609"><span class="linenos">609</span></a>            <span class="nb">min</span><span class="p">,</span> <span class="n">sec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">convert_seconds_to_minutes_seconds</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">)</span>
</span><span id="MainGUI-610"><a href="#MainGUI-610"><span class="linenos">610</span></a>
</span><span id="MainGUI-611"><a href="#MainGUI-611"><span class="linenos">611</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">))</span>
</span><span id="MainGUI-612"><a href="#MainGUI-612"><span class="linenos">612</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI-613"><a href="#MainGUI-613"><span class="linenos">613</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;| </span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="n">sec</span><span class="p">)</span>
</span><span id="MainGUI-614"><a href="#MainGUI-614"><span class="linenos">614</span></a>            <span class="p">)</span>
</span><span id="MainGUI-615"><a href="#MainGUI-615"><span class="linenos">615</span></a>
</span><span id="MainGUI-616"><a href="#MainGUI-616"><span class="linenos">616</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_elapsed_time</span><span class="p">))</span>
</span><span id="MainGUI-617"><a href="#MainGUI-617"><span class="linenos">617</span></a>
</span><span id="MainGUI-618"><a href="#MainGUI-618"><span class="linenos">618</span></a>            <span class="n">clock_update_task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_clock_label</span><span class="p">)</span>
</span><span id="MainGUI-619"><a href="#MainGUI-619"><span class="linenos">619</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">[</span><span class="s2">&quot;CLOCK UPDATE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clock_update_task</span>
</span><span id="MainGUI-620"><a href="#MainGUI-620"><span class="linenos">620</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-621"><a href="#MainGUI-621"><span class="linenos">621</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating clock label: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-622"><a href="#MainGUI-622"><span class="linenos">622</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-623"><a href="#MainGUI-623"><span class="linenos">623</span></a>
</span><span id="MainGUI-624"><a href="#MainGUI-624"><span class="linenos">624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_max_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-625"><a href="#MainGUI-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-626"><a href="#MainGUI-626"><span class="linenos">626</span></a><span class="sd">        This method updates the maximum runtime timer by retreiving this value from `models.experiment_process_data` and configuring the</span>
</span><span id="MainGUI-627"><a href="#MainGUI-627"><span class="linenos">627</span></a><span class="sd">        timer label.</span>
</span><span id="MainGUI-628"><a href="#MainGUI-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-629"><a href="#MainGUI-629"><span class="linenos">629</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-630"><a href="#MainGUI-630"><span class="linenos">630</span></a>            <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">calculate_max_runtime</span><span class="p">()</span>
</span><span id="MainGUI-631"><a href="#MainGUI-631"><span class="linenos">631</span></a>
</span><span id="MainGUI-632"><a href="#MainGUI-632"><span class="linenos">632</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI-633"><a href="#MainGUI-633"><span class="linenos">633</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>
</span><span id="MainGUI-634"><a href="#MainGUI-634"><span class="linenos">634</span></a>            <span class="p">)</span>
</span><span id="MainGUI-635"><a href="#MainGUI-635"><span class="linenos">635</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-636"><a href="#MainGUI-636"><span class="linenos">636</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating max time: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-637"><a href="#MainGUI-637"><span class="linenos">637</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-638"><a href="#MainGUI-638"><span class="linenos">638</span></a>
</span><span id="MainGUI-639"><a href="#MainGUI-639"><span class="linenos">639</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_new_trial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_1_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">side_2_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-640"><a href="#MainGUI-640"><span class="linenos">640</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-641"><a href="#MainGUI-641"><span class="linenos">641</span></a><span class="sd">        Updates the new trial items such as program schedule window current trial highlighting and updates</span>
</span><span id="MainGUI-642"><a href="#MainGUI-642"><span class="linenos">642</span></a><span class="sd">        the main_gui status information widgets with current trial number and updates progress bar.</span>
</span><span id="MainGUI-643"><a href="#MainGUI-643"><span class="linenos">643</span></a>
</span><span id="MainGUI-644"><a href="#MainGUI-644"><span class="linenos">644</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI-645"><a href="#MainGUI-645"><span class="linenos">645</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI-646"><a href="#MainGUI-646"><span class="linenos">646</span></a><span class="sd">        - **side_1_stimulus** (*str*): This parameter is of type string and is generally pulled from the program schedule dataframe in</span>
</span><span id="MainGUI-647"><a href="#MainGUI-647"><span class="linenos">647</span></a><span class="sd">        `app_logic` &#39;StateMachine&#39; to provide the new stimulus for the upcoming trial for side one.</span>
</span><span id="MainGUI-648"><a href="#MainGUI-648"><span class="linenos">648</span></a><span class="sd">        - **side_2_stimulus** (*str*): This parameter mirrors `side_1_stimulus` in all aspects except that this one reflects the stmulus for</span>
</span><span id="MainGUI-649"><a href="#MainGUI-649"><span class="linenos">649</span></a><span class="sd">        side two.</span>
</span><span id="MainGUI-650"><a href="#MainGUI-650"><span class="linenos">650</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-651"><a href="#MainGUI-651"><span class="linenos">651</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-652"><a href="#MainGUI-652"><span class="linenos">652</span></a>            <span class="n">trial_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">current_trial_number</span>
</span><span id="MainGUI-653"><a href="#MainGUI-653"><span class="linenos">653</span></a>            <span class="n">total_trials</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trials&quot;</span><span class="p">]</span>
</span><span id="MainGUI-654"><a href="#MainGUI-654"><span class="linenos">654</span></a>
</span><span id="MainGUI-655"><a href="#MainGUI-655"><span class="linenos">655</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI-656"><a href="#MainGUI-656"><span class="linenos">656</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">total_trials</span><span class="si">}</span><span class="s2"> Trials Completed&quot;</span>
</span><span id="MainGUI-657"><a href="#MainGUI-657"><span class="linenos">657</span></a>            <span class="p">)</span>
</span><span id="MainGUI-658"><a href="#MainGUI-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI-659"><a href="#MainGUI-659"><span class="linenos">659</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Side One: </span><span class="si">{</span><span class="n">side_1_stimulus</span><span class="si">}</span><span class="s2"> | VS | Side Two: </span><span class="si">{</span><span class="n">side_2_stimulus</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="MainGUI-660"><a href="#MainGUI-660"><span class="linenos">660</span></a>            <span class="p">)</span>
</span><span id="MainGUI-661"><a href="#MainGUI-661"><span class="linenos">661</span></a>
</span><span id="MainGUI-662"><a href="#MainGUI-662"><span class="linenos">662</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Trial Number: </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-663"><a href="#MainGUI-663"><span class="linenos">663</span></a>
</span><span id="MainGUI-664"><a href="#MainGUI-664"><span class="linenos">664</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">refresh_start_trial</span><span class="p">(</span><span class="n">trial_number</span><span class="p">)</span>
</span><span id="MainGUI-665"><a href="#MainGUI-665"><span class="linenos">665</span></a>
</span><span id="MainGUI-666"><a href="#MainGUI-666"><span class="linenos">666</span></a>            <span class="c1"># Set the new value for the progress bar</span>
</span><span id="MainGUI-667"><a href="#MainGUI-667"><span class="linenos">667</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">trial_number</span> <span class="o">/</span> <span class="n">total_trials</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="MainGUI-668"><a href="#MainGUI-668"><span class="linenos">668</span></a>
</span><span id="MainGUI-669"><a href="#MainGUI-669"><span class="linenos">669</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI for new trial </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-670"><a href="#MainGUI-670"><span class="linenos">670</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-671"><a href="#MainGUI-671"><span class="linenos">671</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI for new trial: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-672"><a href="#MainGUI-672"><span class="linenos">672</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-673"><a href="#MainGUI-673"><span class="linenos">673</span></a>
</span><span id="MainGUI-674"><a href="#MainGUI-674"><span class="linenos">674</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_state_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_duration_ms</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-675"><a href="#MainGUI-675"><span class="linenos">675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-676"><a href="#MainGUI-676"><span class="linenos">676</span></a><span class="sd">        Here we define the GUI objects that need to be updated upon a state change. This includes the current state label as</span>
</span><span id="MainGUI-677"><a href="#MainGUI-677"><span class="linenos">677</span></a><span class="sd">        well as the state timer.</span>
</span><span id="MainGUI-678"><a href="#MainGUI-678"><span class="linenos">678</span></a>
</span><span id="MainGUI-679"><a href="#MainGUI-679"><span class="linenos">679</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI-680"><a href="#MainGUI-680"><span class="linenos">680</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI-681"><a href="#MainGUI-681"><span class="linenos">681</span></a><span class="sd">        - **state_duration_ms** (*float*): Provides the duration of this state in ms. Is generally pulled from the program schedule df for</span>
</span><span id="MainGUI-682"><a href="#MainGUI-682"><span class="linenos">682</span></a><span class="sd">        the current trial. Converted to seconds by dividing the parameter by 1000.0.</span>
</span><span id="MainGUI-683"><a href="#MainGUI-683"><span class="linenos">683</span></a><span class="sd">        - **state** (*str*): Provides the current to program state to update state label to inform user that program has changed state.</span>
</span><span id="MainGUI-684"><a href="#MainGUI-684"><span class="linenos">684</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-685"><a href="#MainGUI-685"><span class="linenos">685</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-686"><a href="#MainGUI-686"><span class="linenos">686</span></a>            <span class="c1">### clear full state time ###</span>
</span><span id="MainGUI-687"><a href="#MainGUI-687"><span class="linenos">687</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</span><span id="MainGUI-688"><a href="#MainGUI-688"><span class="linenos">688</span></a>
</span><span id="MainGUI-689"><a href="#MainGUI-689"><span class="linenos">689</span></a>            <span class="c1">### UPDATE full state time ###</span>
</span><span id="MainGUI-690"><a href="#MainGUI-690"><span class="linenos">690</span></a>            <span class="n">state_duration_seconds</span> <span class="o">=</span> <span class="n">state_duration_ms</span> <span class="o">/</span> <span class="mf">1000.0</span>
</span><span id="MainGUI-691"><a href="#MainGUI-691"><span class="linenos">691</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI-692"><a href="#MainGUI-692"><span class="linenos">692</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_duration_seconds</span><span class="p">)</span>
</span><span id="MainGUI-693"><a href="#MainGUI-693"><span class="linenos">693</span></a>            <span class="p">)</span>
</span><span id="MainGUI-694"><a href="#MainGUI-694"><span class="linenos">694</span></a>
</span><span id="MainGUI-695"><a href="#MainGUI-695"><span class="linenos">695</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Status: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-696"><a href="#MainGUI-696"><span class="linenos">696</span></a>
</span><span id="MainGUI-697"><a href="#MainGUI-697"><span class="linenos">697</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI on state change to </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-698"><a href="#MainGUI-698"><span class="linenos">698</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-699"><a href="#MainGUI-699"><span class="linenos">699</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on state change: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-700"><a href="#MainGUI-700"><span class="linenos">700</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-701"><a href="#MainGUI-701"><span class="linenos">701</span></a>
</span><span id="MainGUI-702"><a href="#MainGUI-702"><span class="linenos">702</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-703"><a href="#MainGUI-703"><span class="linenos">703</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-704"><a href="#MainGUI-704"><span class="linenos">704</span></a><span class="sd">        Here we define the GUI objects that need to be updated when the program is stopped for any reason. This includes the current</span>
</span><span id="MainGUI-705"><a href="#MainGUI-705"><span class="linenos">705</span></a><span class="sd">        state label (change to &quot;IDLE), and removing state timer information.</span>
</span><span id="MainGUI-706"><a href="#MainGUI-706"><span class="linenos">706</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-707"><a href="#MainGUI-707"><span class="linenos">707</span></a>
</span><span id="MainGUI-708"><a href="#MainGUI-708"><span class="linenos">708</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-709"><a href="#MainGUI-709"><span class="linenos">709</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;0.0s&quot;</span><span class="p">)</span>
</span><span id="MainGUI-710"><a href="#MainGUI-710"><span class="linenos">710</span></a>
</span><span id="MainGUI-711"><a href="#MainGUI-711"><span class="linenos">711</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot; / 0.0s&quot;</span><span class="p">)</span>
</span><span id="MainGUI-712"><a href="#MainGUI-712"><span class="linenos">712</span></a>
</span><span id="MainGUI-713"><a href="#MainGUI-713"><span class="linenos">713</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: IDLE&quot;</span><span class="p">)</span>
</span><span id="MainGUI-714"><a href="#MainGUI-714"><span class="linenos">714</span></a>
</span><span id="MainGUI-715"><a href="#MainGUI-715"><span class="linenos">715</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-716"><a href="#MainGUI-716"><span class="linenos">716</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on stop: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-717"><a href="#MainGUI-717"><span class="linenos">717</span></a>            <span class="k">raise</span>
</span><span id="MainGUI-718"><a href="#MainGUI-718"><span class="linenos">718</span></a>
</span><span id="MainGUI-719"><a href="#MainGUI-719"><span class="linenos">719</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainGUI-720"><a href="#MainGUI-720"><span class="linenos">720</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI-721"><a href="#MainGUI-721"><span class="linenos">721</span></a><span class="sd">        This method is called any time the main program window is closed via the red X or &lt;C-w&gt; shortcut. We stop the listener thread if it</span>
</span><span id="MainGUI-722"><a href="#MainGUI-722"><span class="linenos">722</span></a><span class="sd">        is running, then quit() the tkinter mainloop and destroy() the window and all descendent widgets.</span>
</span><span id="MainGUI-723"><a href="#MainGUI-723"><span class="linenos">723</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI-724"><a href="#MainGUI-724"><span class="linenos">724</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI-725"><a href="#MainGUI-725"><span class="linenos">725</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">listener_thread</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI-726"><a href="#MainGUI-726"><span class="linenos">726</span></a>                <span class="c1"># stop the listener thread so that it will not block exit</span>
</span><span id="MainGUI-727"><a href="#MainGUI-727"><span class="linenos">727</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">stop_listener_thread</span><span class="p">()</span>
</span><span id="MainGUI-728"><a href="#MainGUI-728"><span class="linenos">728</span></a>
</span><span id="MainGUI-729"><a href="#MainGUI-729"><span class="linenos">729</span></a>            <span class="c1"># quit the mainloop and destroy the application</span>
</span><span id="MainGUI-730"><a href="#MainGUI-730"><span class="linenos">730</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="MainGUI-731"><a href="#MainGUI-731"><span class="linenos">731</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="MainGUI-732"><a href="#MainGUI-732"><span class="linenos">732</span></a>
</span><span id="MainGUI-733"><a href="#MainGUI-733"><span class="linenos">733</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Mainloop terminated, widgets destroyed, application closed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI-734"><a href="#MainGUI-734"><span class="linenos">734</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI-735"><a href="#MainGUI-735"><span class="linenos">735</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error closing application: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI-736"><a href="#MainGUI-736"><span class="linenos">736</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>The creator and controller of all GUI related items and actions for the program. Inherits from tk.Tk to create a tk.root() from which tk.TopLevel windows can be sprouted
and tk.after scheduling calls can be made.</p>

<h2 id="attributes">Attributes</h2>

<ul>
<li><strong>exp_data</strong> (<em>ExperimentProcessData</em>): An instance of <code>models.experiment_process_data</code> ExperimentProcessData,
this attribute allows for access and modification of experiment variables, and access for to more specific models like
<code>models.event_data</code> and <code>models.arduino_data</code>.</li>
<li><strong>arduino_controller</strong> (<em>ArduinoManager</em>): An instance of <code>controllers.arduino_control</code> ArduinoManager, this allows for communication between this program and the
Arduino board.</li>
<li><strong>trigger</strong> (<em>Callback method</em>): trigger is the callback method from <code><a href="app_logic.html">app_logic</a></code> module <code>StateMachine</code> class, it allows the
GUI to attempt state transitions.</li>
<li><strong>scheduled_tasks</strong> (<em>dict[str,str]</em>): self.scheduled_tasks is a dict where keys are short task descriptions (e.g ttc_to_iti) and the values are
the str ids for tkinter.after scheduling calls. This allows for tracking and cancellations of scheduled tasks.</li>
<li>(<strong>windows</strong>) (<em>dict</em>): A dictionary that holds window titles as keys, and instances of GUI sublasses as values. Allows for easy access of windows and their methods
and attributes given a title.</li>
</ul>

<h2 id="methods">Methods</h2>

<ul>
<li><code><a href="#MainGUI.setup_basic_window_attr">setup_basic_window_attr</a></code>()
This method sets basic window attributes like title, icon, and expansion settings.</li>
<li><code><a href="#MainGUI.setup_tkinter_variables">setup_tkinter_variables</a></code>()
GUI (Tkinter) variables and acutal stored data for the program are decoupled to separate concerns. Here we link them such that when the GUI variables are updated,
the data stored in the model is also updated.</li>
<li><code><a href="#MainGUI.build_gui_widgets">build_gui_widgets</a></code>()
Setup all widgets to be placed in the MainGUI window.</li>
<li><code><a href="#MainGUI.preload_secondary_windows">preload_secondary_windows</a></code>()
This method loads all secondary windows and all content available at start time. This was done to reduce strain on system while program is running. Windows always
exist and are simply hidden when not shown to user.</li>
<li><code><a href="#MainGUI.show_secondary_window">show_secondary_window</a></code>()
Takes a window description string for the <code>windows</code> dictionary. Access is given to the instance of the class for the description, where the windows <code>show</code> method is
called.</li>
<li><code><a href="#MainGUI.hide_secondary_window">hide_secondary_window</a></code>()
The opposing function to <code><a href="#MainGUI.show_secondary_window">show_secondary_window</a></code>. Hides the window specified as the <code>window</code> argument.</li>
<li><code><a href="#MainGUI.create_top_control_buttons">create_top_control_buttons</a></code>()
Create frames and buttons for top bar start an reset buttons.</li>
<li><code><a href="#MainGUI.create_timers">create_timers</a></code>()
Create start and state start timer labels.</li>
<li><code><a href="#MainGUI.create_status_widgets">create_status_widgets</a></code>()
Create state status widgets such as state label, num trials progress bar and label, etc.</li>
<li><code><a href="#MainGUI.create_entry_widgets">create_entry_widgets</a></code>()
Build entry widget and frames for ITI, TTC, Sample times, Num Trials, Num Stimuli.</li>
<li><code><a href="#MainGUI.create_lower_control_buttons">create_lower_control_buttons</a></code>()
Create lower control buttons for opening windows and saving data.</li>
<li><code><a href="#MainGUI.save_button_handler">save_button_handler</a></code>()
Define behavior for saving all data to xlsx files.</li>
<li><code><a href="#MainGUI.update_clock_label">update_clock_label</a></code>()
Hold logic for updating GUI clocks every 100ms.</li>
<li><code><a href="#MainGUI.update_max_time">update_max_time</a></code>()
Calculate max program runtime.</li>
<li><code><a href="#MainGUI.update_on_new_trial">update_on_new_trial</a></code>()
Define GUI objects to update each iteration (new ITI state) of program.</li>
<li><code><a href="#MainGUI.update_on_state_change">update_on_state_change</a></code>()
Define GUI objects to update upon each state (state timer, label, etc).</li>
<li><code><a href="#MainGUI.update_on_stop">update_on_stop</a></code>()
Update GUI objects to reflect "IDLE" program state once stopped.</li>
<li><code><a href="#MainGUI.on_close">on_close</a></code>()
Defines GUI shutdown behavior when primary window is closed.</li>
</ul>
</div>


                            <div id="MainGUI.__init__" class="classattr">
                                        <input id="MainGUI.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MainGUI</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">exp_data</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">experiment_process_data</span><span class="o">.</span><span class="n">ExperimentProcessData</span>,</span><span class="param">	<span class="n">trigger</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">arduino_controller</span><span class="p">:</span> <span class="n">controllers</span><span class="o">.</span><span class="n">arduino_control</span><span class="o">.</span><span class="n">ArduinoManager</span></span>)</span>

                <label class="view-source-button" for="MainGUI.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.__init__-99"><a href="#MainGUI.__init__-99"><span class="linenos"> 99</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="MainGUI.__init__-100"><a href="#MainGUI.__init__-100"><span class="linenos">100</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="MainGUI.__init__-101"><a href="#MainGUI.__init__-101"><span class="linenos">101</span></a>        <span class="n">exp_data</span><span class="p">:</span> <span class="n">ExperimentProcessData</span><span class="p">,</span>
</span><span id="MainGUI.__init__-102"><a href="#MainGUI.__init__-102"><span class="linenos">102</span></a>        <span class="n">trigger</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">],</span>
</span><span id="MainGUI.__init__-103"><a href="#MainGUI.__init__-103"><span class="linenos">103</span></a>        <span class="n">arduino_controller</span><span class="p">:</span> <span class="n">ArduinoManager</span><span class="p">,</span>
</span><span id="MainGUI.__init__-104"><a href="#MainGUI.__init__-104"><span class="linenos">104</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.__init__-105"><a href="#MainGUI.__init__-105"><span class="linenos">105</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.__init__-106"><a href="#MainGUI.__init__-106"><span class="linenos">106</span></a><span class="sd">        Initialize the MainGUI window. Build all frames and widgets required by the main window *and* loads all secondary windows that can</span>
</span><span id="MainGUI.__init__-107"><a href="#MainGUI.__init__-107"><span class="linenos">107</span></a><span class="sd">        be opened by the lower control buttons. These are hidden after generation and deiconified (shown) when the button is pressed.</span>
</span><span id="MainGUI.__init__-108"><a href="#MainGUI.__init__-108"><span class="linenos">108</span></a>
</span><span id="MainGUI.__init__-109"><a href="#MainGUI.__init__-109"><span class="linenos">109</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI.__init__-110"><a href="#MainGUI.__init__-110"><span class="linenos">110</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI.__init__-111"><a href="#MainGUI.__init__-111"><span class="linenos">111</span></a><span class="sd">        - **exp_data** (*ExperimentProcessData*): A reference to the `models.experiment_process_data` ExperimentProcessData instance,</span>
</span><span id="MainGUI.__init__-112"><a href="#MainGUI.__init__-112"><span class="linenos">112</span></a><span class="sd">        this is used to model data based on user GUI interaction.</span>
</span><span id="MainGUI.__init__-113"><a href="#MainGUI.__init__-113"><span class="linenos">113</span></a><span class="sd">        - **trigger** (*Callback method*): This callback is passed in so that this state can trigger state transitions from GUI objects</span>
</span><span id="MainGUI.__init__-114"><a href="#MainGUI.__init__-114"><span class="linenos">114</span></a><span class="sd">        throughout the class.</span>
</span><span id="MainGUI.__init__-115"><a href="#MainGUI.__init__-115"><span class="linenos">115</span></a><span class="sd">        - **arduino_controller** (*ArduinoManager*): A reference to the `controllers.arduino_control` Arduino controller instance,</span>
</span><span id="MainGUI.__init__-116"><a href="#MainGUI.__init__-116"><span class="linenos">116</span></a><span class="sd">        this is the method by which the Arduino is communicated with in the program. `views.valve_testing.valve_testing_window`</span>
</span><span id="MainGUI.__init__-117"><a href="#MainGUI.__init__-117"><span class="linenos">117</span></a><span class="sd">        ValveTestWindow, and `views.valve_control_window` require references here to communicate with Arduino to calibrate and open/close</span>
</span><span id="MainGUI.__init__-118"><a href="#MainGUI.__init__-118"><span class="linenos">118</span></a><span class="sd">        valves. This is also used in `on_close` to stop the Arduino listener thread to avoid thread errors on window close.</span>
</span><span id="MainGUI.__init__-119"><a href="#MainGUI.__init__-119"><span class="linenos">119</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.__init__-120"><a href="#MainGUI.__init__-120"><span class="linenos">120</span></a>        <span class="c1"># init tk.Tk to use this class as a tk.root.</span>
</span><span id="MainGUI.__init__-121"><a href="#MainGUI.__init__-121"><span class="linenos">121</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MainGUI.__init__-122"><a href="#MainGUI.__init__-122"><span class="linenos">122</span></a>
</span><span id="MainGUI.__init__-123"><a href="#MainGUI.__init__-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span> <span class="o">=</span> <span class="n">exp_data</span>
</span><span id="MainGUI.__init__-124"><a href="#MainGUI.__init__-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span> <span class="o">=</span> <span class="n">arduino_controller</span>
</span><span id="MainGUI.__init__-125"><a href="#MainGUI.__init__-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span> <span class="o">=</span> <span class="n">trigger</span>
</span><span id="MainGUI.__init__-126"><a href="#MainGUI.__init__-126"><span class="linenos">126</span></a>
</span><span id="MainGUI.__init__-127"><a href="#MainGUI.__init__-127"><span class="linenos">127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="MainGUI.__init__-128"><a href="#MainGUI.__init__-128"><span class="linenos">128</span></a>
</span><span id="MainGUI.__init__-129"><a href="#MainGUI.__init__-129"><span class="linenos">129</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_basic_window_attr</span><span class="p">()</span>
</span><span id="MainGUI.__init__-130"><a href="#MainGUI.__init__-130"><span class="linenos">130</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setup_tkinter_variables</span><span class="p">()</span>
</span><span id="MainGUI.__init__-131"><a href="#MainGUI.__init__-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">build_gui_widgets</span><span class="p">()</span>
</span><span id="MainGUI.__init__-132"><a href="#MainGUI.__init__-132"><span class="linenos">132</span></a>
</span><span id="MainGUI.__init__-133"><a href="#MainGUI.__init__-133"><span class="linenos">133</span></a>        <span class="c1"># update_idletasks so that window knows what elements are inside and what width and height they require,</span>
</span><span id="MainGUI.__init__-134"><a href="#MainGUI.__init__-134"><span class="linenos">134</span></a>        <span class="c1"># then scale and center the window.</span>
</span><span id="MainGUI.__init__-135"><a href="#MainGUI.__init__-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span>
</span><span id="MainGUI.__init__-136"><a href="#MainGUI.__init__-136"><span class="linenos">136</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">center_window</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MainGUI.__init__-137"><a href="#MainGUI.__init__-137"><span class="linenos">137</span></a>
</span><span id="MainGUI.__init__-138"><a href="#MainGUI.__init__-138"><span class="linenos">138</span></a>        <span class="c1"># create all secondary windows early so that loading when program is running is fast</span>
</span><span id="MainGUI.__init__-139"><a href="#MainGUI.__init__-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">preload_secondary_windows</span><span class="p">()</span>
</span><span id="MainGUI.__init__-140"><a href="#MainGUI.__init__-140"><span class="linenos">140</span></a>
</span><span id="MainGUI.__init__-141"><a href="#MainGUI.__init__-141"><span class="linenos">141</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;MainGUI initialized.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the MainGUI window. Build all frames and widgets required by the main window <em>and</em> loads all secondary windows that can
be opened by the lower control buttons. These are hidden after generation and deiconified (shown) when the button is pressed.</p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><strong>exp_data</strong> (<em>ExperimentProcessData</em>): A reference to the <code>models.experiment_process_data</code> ExperimentProcessData instance,
this is used to model data based on user GUI interaction.</li>
<li><strong>trigger</strong> (<em>Callback method</em>): This callback is passed in so that this state can trigger state transitions from GUI objects
throughout the class.</li>
<li><strong>arduino_controller</strong> (<em>ArduinoManager</em>): A reference to the <code>controllers.arduino_control</code> Arduino controller instance,
this is the method by which the Arduino is communicated with in the program. <code>views.valve_testing.valve_testing_window</code>
ValveTestWindow, and <code>views.valve_control_window</code> require references here to communicate with Arduino to calibrate and open/close
valves. This is also used in <code><a href="#MainGUI.on_close">on_close</a></code> to stop the Arduino listener thread to avoid thread errors on window close.</li>
</ul>
</div>


                            </div>
                            <div id="MainGUI.exp_data" class="classattr">
                                <div class="attr variable">
            <span class="name">exp_data</span>

        
    </div>
    <a class="headerlink" href="#MainGUI.exp_data"></a>
    
    

                            </div>
                            <div id="MainGUI.arduino_controller" class="classattr">
                                <div class="attr variable">
            <span class="name">arduino_controller</span>

        
    </div>
    <a class="headerlink" href="#MainGUI.arduino_controller"></a>
    
    

                            </div>
                            <div id="MainGUI.trigger" class="classattr">
                                <div class="attr variable">
            <span class="name">trigger</span>

        
    </div>
    <a class="headerlink" href="#MainGUI.trigger"></a>
    
    

                            </div>
                            <div id="MainGUI.scheduled_tasks" class="classattr">
                                <div class="attr variable">
            <span class="name">scheduled_tasks</span><span class="annotation">: dict[str, str]</span>

        
    </div>
    <a class="headerlink" href="#MainGUI.scheduled_tasks"></a>
    
    

                            </div>
                            <div id="MainGUI.setup_basic_window_attr" class="classattr">
                                        <input id="MainGUI.setup_basic_window_attr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setup_basic_window_attr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MainGUI.setup_basic_window_attr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.setup_basic_window_attr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.setup_basic_window_attr-143"><a href="#MainGUI.setup_basic_window_attr-143"><span class="linenos">143</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_basic_window_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainGUI.setup_basic_window_attr-144"><a href="#MainGUI.setup_basic_window_attr-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.setup_basic_window_attr-145"><a href="#MainGUI.setup_basic_window_attr-145"><span class="linenos">145</span></a><span class="sd">        Set basic window attributes such as title, size, window icon, protocol for closing the window, etc.</span>
</span><span id="MainGUI.setup_basic_window_attr-146"><a href="#MainGUI.setup_basic_window_attr-146"><span class="linenos">146</span></a><span class="sd">        We also bind &lt;Control-w&gt; keyboard shortcut to close the window for convenience. Finally,</span>
</span><span id="MainGUI.setup_basic_window_attr-147"><a href="#MainGUI.setup_basic_window_attr-147"><span class="linenos">147</span></a><span class="sd">        we set the grid rows and columns to expand and contract as window gets larger or smaller (weight=1).</span>
</span><span id="MainGUI.setup_basic_window_attr-148"><a href="#MainGUI.setup_basic_window_attr-148"><span class="linenos">148</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.setup_basic_window_attr-149"><a href="#MainGUI.setup_basic_window_attr-149"><span class="linenos">149</span></a>
</span><span id="MainGUI.setup_basic_window_attr-150"><a href="#MainGUI.setup_basic_window_attr-150"><span class="linenos">150</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Samuelsen Lab Photologic Rig&quot;</span><span class="p">)</span>
</span><span id="MainGUI.setup_basic_window_attr-151"><a href="#MainGUI.setup_basic_window_attr-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Control-w&gt;&quot;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">())</span>
</span><span id="MainGUI.setup_basic_window_attr-152"><a href="#MainGUI.setup_basic_window_attr-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_close</span><span class="p">)</span>
</span><span id="MainGUI.setup_basic_window_attr-153"><a href="#MainGUI.setup_basic_window_attr-153"><span class="linenos">153</span></a>
</span><span id="MainGUI.setup_basic_window_attr-154"><a href="#MainGUI.setup_basic_window_attr-154"><span class="linenos">154</span></a>        <span class="n">icon_path</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">get_window_icon_path</span><span class="p">()</span>
</span><span id="MainGUI.setup_basic_window_attr-155"><a href="#MainGUI.setup_basic_window_attr-155"><span class="linenos">155</span></a>        <span class="n">GUIUtils</span><span class="o">.</span><span class="n">set_program_icon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">icon_path</span><span class="o">=</span><span class="n">icon_path</span><span class="p">)</span>
</span><span id="MainGUI.setup_basic_window_attr-156"><a href="#MainGUI.setup_basic_window_attr-156"><span class="linenos">156</span></a>
</span><span id="MainGUI.setup_basic_window_attr-157"><a href="#MainGUI.setup_basic_window_attr-157"><span class="linenos">157</span></a>        <span class="c1"># set cols and rows to expand to fill space in main gui</span>
</span><span id="MainGUI.setup_basic_window_attr-158"><a href="#MainGUI.setup_basic_window_attr-158"><span class="linenos">158</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span><span id="MainGUI.setup_basic_window_attr-159"><a href="#MainGUI.setup_basic_window_attr-159"><span class="linenos">159</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="MainGUI.setup_basic_window_attr-160"><a href="#MainGUI.setup_basic_window_attr-160"><span class="linenos">160</span></a>
</span><span id="MainGUI.setup_basic_window_attr-161"><a href="#MainGUI.setup_basic_window_attr-161"><span class="linenos">161</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set basic window attributes such as title, size, window icon, protocol for closing the window, etc.
We also bind <Control-w> keyboard shortcut to close the window for convenience. Finally,
we set the grid rows and columns to expand and contract as window gets larger or smaller (weight=1).</p>
</div>


                            </div>
                            <div id="MainGUI.setup_tkinter_variables" class="classattr">
                                        <input id="MainGUI.setup_tkinter_variables-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">setup_tkinter_variables</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.setup_tkinter_variables-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.setup_tkinter_variables"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.setup_tkinter_variables-163"><a href="#MainGUI.setup_tkinter_variables-163"><span class="linenos">163</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">setup_tkinter_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.setup_tkinter_variables-164"><a href="#MainGUI.setup_tkinter_variables-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.setup_tkinter_variables-165"><a href="#MainGUI.setup_tkinter_variables-165"><span class="linenos">165</span></a><span class="sd">        Tkinter variables for tkinter entries are created here. These are the variables updated on user input. Default values</span>
</span><span id="MainGUI.setup_tkinter_variables-166"><a href="#MainGUI.setup_tkinter_variables-166"><span class="linenos">166</span></a><span class="sd">        are set by finding the default value in `models.experiment_process_data`. Traces are added to each variable which update</span>
</span><span id="MainGUI.setup_tkinter_variables-167"><a href="#MainGUI.setup_tkinter_variables-167"><span class="linenos">167</span></a><span class="sd">        the model upon an update (write) to the Tkinter variable.</span>
</span><span id="MainGUI.setup_tkinter_variables-168"><a href="#MainGUI.setup_tkinter_variables-168"><span class="linenos">168</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.setup_tkinter_variables-169"><a href="#MainGUI.setup_tkinter_variables-169"><span class="linenos">169</span></a>        <span class="c1"># tkinter variables for time related</span>
</span><span id="MainGUI.setup_tkinter_variables-170"><a href="#MainGUI.setup_tkinter_variables-170"><span class="linenos">170</span></a>        <span class="c1"># modifications in the experiment</span>
</span><span id="MainGUI.setup_tkinter_variables-171"><a href="#MainGUI.setup_tkinter_variables-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI.setup_tkinter_variables-172"><a href="#MainGUI.setup_tkinter_variables-172"><span class="linenos">172</span></a>            <span class="s2">&quot;ITI_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-173"><a href="#MainGUI.setup_tkinter_variables-173"><span class="linenos">173</span></a>            <span class="s2">&quot;TTC_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-174"><a href="#MainGUI.setup_tkinter_variables-174"><span class="linenos">174</span></a>            <span class="s2">&quot;sample_var&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-175"><a href="#MainGUI.setup_tkinter_variables-175"><span class="linenos">175</span></a>            <span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-176"><a href="#MainGUI.setup_tkinter_variables-176"><span class="linenos">176</span></a>            <span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-177"><a href="#MainGUI.setup_tkinter_variables-177"><span class="linenos">177</span></a>            <span class="s2">&quot;sample_random_entry&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-178"><a href="#MainGUI.setup_tkinter_variables-178"><span class="linenos">178</span></a>        <span class="p">}</span>
</span><span id="MainGUI.setup_tkinter_variables-179"><a href="#MainGUI.setup_tkinter_variables-179"><span class="linenos">179</span></a>
</span><span id="MainGUI.setup_tkinter_variables-180"><a href="#MainGUI.setup_tkinter_variables-180"><span class="linenos">180</span></a>        <span class="c1"># fill the tkinter entry boxes with their default values as configured in self.exp_data</span>
</span><span id="MainGUI.setup_tkinter_variables-181"><a href="#MainGUI.setup_tkinter_variables-181"><span class="linenos">181</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="MainGUI.setup_tkinter_variables-182"><a href="#MainGUI.setup_tkinter_variables-182"><span class="linenos">182</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="MainGUI.setup_tkinter_variables-183"><a href="#MainGUI.setup_tkinter_variables-183"><span class="linenos">183</span></a>
</span><span id="MainGUI.setup_tkinter_variables-184"><a href="#MainGUI.setup_tkinter_variables-184"><span class="linenos">184</span></a>        <span class="c1"># we add traces to all of our tkinter variables so that on value update</span>
</span><span id="MainGUI.setup_tkinter_variables-185"><a href="#MainGUI.setup_tkinter_variables-185"><span class="linenos">185</span></a>        <span class="c1"># we sent those updates to the corresponding model (data storage location)</span>
</span><span id="MainGUI.setup_tkinter_variables-186"><a href="#MainGUI.setup_tkinter_variables-186"><span class="linenos">186</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="MainGUI.setup_tkinter_variables-187"><a href="#MainGUI.setup_tkinter_variables-187"><span class="linenos">187</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="MainGUI.setup_tkinter_variables-188"><a href="#MainGUI.setup_tkinter_variables-188"><span class="linenos">188</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="MainGUI.setup_tkinter_variables-189"><a href="#MainGUI.setup_tkinter_variables-189"><span class="linenos">189</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="MainGUI.setup_tkinter_variables-190"><a href="#MainGUI.setup_tkinter_variables-190"><span class="linenos">190</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="MainGUI.setup_tkinter_variables-191"><a href="#MainGUI.setup_tkinter_variables-191"><span class="linenos">191</span></a>                <span class="p">),</span>
</span><span id="MainGUI.setup_tkinter_variables-192"><a href="#MainGUI.setup_tkinter_variables-192"><span class="linenos">192</span></a>            <span class="p">)</span>
</span><span id="MainGUI.setup_tkinter_variables-193"><a href="#MainGUI.setup_tkinter_variables-193"><span class="linenos">193</span></a>
</span><span id="MainGUI.setup_tkinter_variables-194"><a href="#MainGUI.setup_tkinter_variables-194"><span class="linenos">194</span></a>        <span class="c1"># tkinter variables for other variables in the experiment such as num stimuli</span>
</span><span id="MainGUI.setup_tkinter_variables-195"><a href="#MainGUI.setup_tkinter_variables-195"><span class="linenos">195</span></a>        <span class="c1"># or number of trial blocks</span>
</span><span id="MainGUI.setup_tkinter_variables-196"><a href="#MainGUI.setup_tkinter_variables-196"><span class="linenos">196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI.setup_tkinter_variables-197"><a href="#MainGUI.setup_tkinter_variables-197"><span class="linenos">197</span></a>            <span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-198"><a href="#MainGUI.setup_tkinter_variables-198"><span class="linenos">198</span></a>            <span class="s2">&quot;Num Stimuli&quot;</span><span class="p">:</span> <span class="n">tk</span><span class="o">.</span><span class="n">IntVar</span><span class="p">(),</span>
</span><span id="MainGUI.setup_tkinter_variables-199"><a href="#MainGUI.setup_tkinter_variables-199"><span class="linenos">199</span></a>        <span class="p">}</span>
</span><span id="MainGUI.setup_tkinter_variables-200"><a href="#MainGUI.setup_tkinter_variables-200"><span class="linenos">200</span></a>
</span><span id="MainGUI.setup_tkinter_variables-201"><a href="#MainGUI.setup_tkinter_variables-201"><span class="linenos">201</span></a>        <span class="c1"># fill the exp_var entry boxes with their default values as configured in self.exp_data</span>
</span><span id="MainGUI.setup_tkinter_variables-202"><a href="#MainGUI.setup_tkinter_variables-202"><span class="linenos">202</span></a>        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="MainGUI.setup_tkinter_variables-203"><a href="#MainGUI.setup_tkinter_variables-203"><span class="linenos">203</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">get_default_value</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
</span><span id="MainGUI.setup_tkinter_variables-204"><a href="#MainGUI.setup_tkinter_variables-204"><span class="linenos">204</span></a>
</span><span id="MainGUI.setup_tkinter_variables-205"><a href="#MainGUI.setup_tkinter_variables-205"><span class="linenos">205</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="MainGUI.setup_tkinter_variables-206"><a href="#MainGUI.setup_tkinter_variables-206"><span class="linenos">206</span></a>            <span class="n">value</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span>
</span><span id="MainGUI.setup_tkinter_variables-207"><a href="#MainGUI.setup_tkinter_variables-207"><span class="linenos">207</span></a>                <span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="MainGUI.setup_tkinter_variables-208"><a href="#MainGUI.setup_tkinter_variables-208"><span class="linenos">208</span></a>                <span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">update_model</span><span class="p">(</span>
</span><span id="MainGUI.setup_tkinter_variables-209"><a href="#MainGUI.setup_tkinter_variables-209"><span class="linenos">209</span></a>                    <span class="n">key</span><span class="p">,</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">safe_tkinter_get</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</span><span id="MainGUI.setup_tkinter_variables-210"><a href="#MainGUI.setup_tkinter_variables-210"><span class="linenos">210</span></a>                <span class="p">),</span>
</span><span id="MainGUI.setup_tkinter_variables-211"><a href="#MainGUI.setup_tkinter_variables-211"><span class="linenos">211</span></a>            <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tkinter variables for tkinter entries are created here. These are the variables updated on user input. Default values
are set by finding the default value in <code>models.experiment_process_data</code>. Traces are added to each variable which update
the model upon an update (write) to the Tkinter variable.</p>
</div>


                            </div>
                            <div id="MainGUI.build_gui_widgets" class="classattr">
                                        <input id="MainGUI.build_gui_widgets-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">build_gui_widgets</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.build_gui_widgets-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.build_gui_widgets"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.build_gui_widgets-213"><a href="#MainGUI.build_gui_widgets-213"><span class="linenos">213</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">build_gui_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.build_gui_widgets-214"><a href="#MainGUI.build_gui_widgets-214"><span class="linenos">214</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.build_gui_widgets-215"><a href="#MainGUI.build_gui_widgets-215"><span class="linenos">215</span></a><span class="sd">        Build all GUI widgets by calling respective functions for each type of widget listed here.</span>
</span><span id="MainGUI.build_gui_widgets-216"><a href="#MainGUI.build_gui_widgets-216"><span class="linenos">216</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.build_gui_widgets-217"><a href="#MainGUI.build_gui_widgets-217"><span class="linenos">217</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.build_gui_widgets-218"><a href="#MainGUI.build_gui_widgets-218"><span class="linenos">218</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_top_control_buttons</span><span class="p">()</span>
</span><span id="MainGUI.build_gui_widgets-219"><a href="#MainGUI.build_gui_widgets-219"><span class="linenos">219</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_timers</span><span class="p">()</span>
</span><span id="MainGUI.build_gui_widgets-220"><a href="#MainGUI.build_gui_widgets-220"><span class="linenos">220</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_status_widgets</span><span class="p">()</span>
</span><span id="MainGUI.build_gui_widgets-221"><a href="#MainGUI.build_gui_widgets-221"><span class="linenos">221</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_entry_widgets</span><span class="p">()</span>
</span><span id="MainGUI.build_gui_widgets-222"><a href="#MainGUI.build_gui_widgets-222"><span class="linenos">222</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">create_lower_control_buttons</span><span class="p">()</span>
</span><span id="MainGUI.build_gui_widgets-223"><a href="#MainGUI.build_gui_widgets-223"><span class="linenos">223</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;GUI setup completed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.build_gui_widgets-224"><a href="#MainGUI.build_gui_widgets-224"><span class="linenos">224</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.build_gui_widgets-225"><a href="#MainGUI.build_gui_widgets-225"><span class="linenos">225</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error setting up GUI: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.build_gui_widgets-226"><a href="#MainGUI.build_gui_widgets-226"><span class="linenos">226</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Build all GUI widgets by calling respective functions for each type of widget listed here.</p>
</div>


                            </div>
                            <div id="MainGUI.preload_secondary_windows" class="classattr">
                                        <input id="MainGUI.preload_secondary_windows-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">preload_secondary_windows</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.preload_secondary_windows-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.preload_secondary_windows"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.preload_secondary_windows-228"><a href="#MainGUI.preload_secondary_windows-228"><span class="linenos">228</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">preload_secondary_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.preload_secondary_windows-229"><a href="#MainGUI.preload_secondary_windows-229"><span class="linenos">229</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.preload_secondary_windows-230"><a href="#MainGUI.preload_secondary_windows-230"><span class="linenos">230</span></a><span class="sd">        Build all secondary windows (windows that require a button push to view) and get them ready</span>
</span><span id="MainGUI.preload_secondary_windows-231"><a href="#MainGUI.preload_secondary_windows-231"><span class="linenos">231</span></a><span class="sd">        to be opened (deiconified in tkinter terms) when the user clicks the corresponding button.</span>
</span><span id="MainGUI.preload_secondary_windows-232"><a href="#MainGUI.preload_secondary_windows-232"><span class="linenos">232</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.preload_secondary_windows-233"><a href="#MainGUI.preload_secondary_windows-233"><span class="linenos">233</span></a>        <span class="c1"># define the data that ExperimentCtlWindow() needs to function</span>
</span><span id="MainGUI.preload_secondary_windows-234"><a href="#MainGUI.preload_secondary_windows-234"><span class="linenos">234</span></a>        <span class="n">stimuli_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">stimuli_data</span>
</span><span id="MainGUI.preload_secondary_windows-235"><a href="#MainGUI.preload_secondary_windows-235"><span class="linenos">235</span></a>        <span class="n">event_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span>
</span><span id="MainGUI.preload_secondary_windows-236"><a href="#MainGUI.preload_secondary_windows-236"><span class="linenos">236</span></a>
</span><span id="MainGUI.preload_secondary_windows-237"><a href="#MainGUI.preload_secondary_windows-237"><span class="linenos">237</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="MainGUI.preload_secondary_windows-238"><a href="#MainGUI.preload_secondary_windows-238"><span class="linenos">238</span></a>            <span class="s2">&quot;Experiment Control&quot;</span><span class="p">:</span> <span class="n">ExperimentCtlWindow</span><span class="p">(</span>
</span><span id="MainGUI.preload_secondary_windows-239"><a href="#MainGUI.preload_secondary_windows-239"><span class="linenos">239</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span> <span class="n">stimuli_data</span><span class="p">,</span> <span class="n">event_data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span>
</span><span id="MainGUI.preload_secondary_windows-240"><a href="#MainGUI.preload_secondary_windows-240"><span class="linenos">240</span></a>            <span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-241"><a href="#MainGUI.preload_secondary_windows-241"><span class="linenos">241</span></a>            <span class="s2">&quot;Program Schedule&quot;</span><span class="p">:</span> <span class="n">ProgramScheduleWindow</span><span class="p">(</span>
</span><span id="MainGUI.preload_secondary_windows-242"><a href="#MainGUI.preload_secondary_windows-242"><span class="linenos">242</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">,</span>
</span><span id="MainGUI.preload_secondary_windows-243"><a href="#MainGUI.preload_secondary_windows-243"><span class="linenos">243</span></a>                <span class="n">stimuli_data</span><span class="p">,</span>
</span><span id="MainGUI.preload_secondary_windows-244"><a href="#MainGUI.preload_secondary_windows-244"><span class="linenos">244</span></a>            <span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-245"><a href="#MainGUI.preload_secondary_windows-245"><span class="linenos">245</span></a>            <span class="s2">&quot;Raster Plot&quot;</span><span class="p">:</span> <span class="p">(</span>
</span><span id="MainGUI.preload_secondary_windows-246"><a href="#MainGUI.preload_secondary_windows-246"><span class="linenos">246</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-247"><a href="#MainGUI.preload_secondary_windows-247"><span class="linenos">247</span></a>                <span class="n">RasterizedDataWindow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-248"><a href="#MainGUI.preload_secondary_windows-248"><span class="linenos">248</span></a>            <span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-249"><a href="#MainGUI.preload_secondary_windows-249"><span class="linenos">249</span></a>            <span class="s2">&quot;Event Data&quot;</span><span class="p">:</span> <span class="n">EventWindow</span><span class="p">(</span><span class="n">event_data</span><span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-250"><a href="#MainGUI.preload_secondary_windows-250"><span class="linenos">250</span></a>            <span class="s2">&quot;Valve Testing&quot;</span><span class="p">:</span> <span class="n">ValveTestWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-251"><a href="#MainGUI.preload_secondary_windows-251"><span class="linenos">251</span></a>            <span class="s2">&quot;Valve Control&quot;</span><span class="p">:</span> <span class="n">ValveControlWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="p">),</span>
</span><span id="MainGUI.preload_secondary_windows-252"><a href="#MainGUI.preload_secondary_windows-252"><span class="linenos">252</span></a>        <span class="p">}</span>
</span></pre></div>


            <div class="docstring"><p>Build all secondary windows (windows that require a button push to view) and get them ready
to be opened (deiconified in tkinter terms) when the user clicks the corresponding button.</p>
</div>


                            </div>
                            <div id="MainGUI.show_secondary_window" class="classattr">
                                        <input id="MainGUI.show_secondary_window-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_secondary_window</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">window</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.show_secondary_window-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.show_secondary_window"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.show_secondary_window-254"><a href="#MainGUI.show_secondary_window-254"><span class="linenos">254</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">show_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.show_secondary_window-255"><a href="#MainGUI.show_secondary_window-255"><span class="linenos">255</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.show_secondary_window-256"><a href="#MainGUI.show_secondary_window-256"><span class="linenos">256</span></a><span class="sd">        Show the window corresponding to a button press or other event calling this method. Accesses class attribute `windows` to gain</span>
</span><span id="MainGUI.show_secondary_window-257"><a href="#MainGUI.show_secondary_window-257"><span class="linenos">257</span></a><span class="sd">        accesss to the desired instance and call the class `show` method.</span>
</span><span id="MainGUI.show_secondary_window-258"><a href="#MainGUI.show_secondary_window-258"><span class="linenos">258</span></a>
</span><span id="MainGUI.show_secondary_window-259"><a href="#MainGUI.show_secondary_window-259"><span class="linenos">259</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI.show_secondary_window-260"><a href="#MainGUI.show_secondary_window-260"><span class="linenos">260</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI.show_secondary_window-261"><a href="#MainGUI.show_secondary_window-261"><span class="linenos">261</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="MainGUI.show_secondary_window-262"><a href="#MainGUI.show_secondary_window-262"><span class="linenos">262</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="MainGUI.show_secondary_window-263"><a href="#MainGUI.show_secondary_window-263"><span class="linenos">263</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.show_secondary_window-264"><a href="#MainGUI.show_secondary_window-264"><span class="linenos">264</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="MainGUI.show_secondary_window-265"><a href="#MainGUI.show_secondary_window-265"><span class="linenos">265</span></a>            <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]:</span>
</span><span id="MainGUI.show_secondary_window-266"><a href="#MainGUI.show_secondary_window-266"><span class="linenos">266</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
</span><span id="MainGUI.show_secondary_window-267"><a href="#MainGUI.show_secondary_window-267"><span class="linenos">267</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MainGUI.show_secondary_window-268"><a href="#MainGUI.show_secondary_window-268"><span class="linenos">268</span></a>            <span class="n">df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="MainGUI.show_secondary_window-269"><a href="#MainGUI.show_secondary_window-269"><span class="linenos">269</span></a>            <span class="k">if</span> <span class="n">window</span> <span class="o">==</span> <span class="s2">&quot;Valve Testing&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="MainGUI.show_secondary_window-270"><a href="#MainGUI.show_secondary_window-270"><span class="linenos">270</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">display_error</span><span class="p">(</span>
</span><span id="MainGUI.show_secondary_window-271"><a href="#MainGUI.show_secondary_window-271"><span class="linenos">271</span></a>                    <span class="s2">&quot;CANNOT DISPLAY WINDOW&quot;</span><span class="p">,</span>
</span><span id="MainGUI.show_secondary_window-272"><a href="#MainGUI.show_secondary_window-272"><span class="linenos">272</span></a>                    <span class="s2">&quot;Since the schedule has been generated, valve testing has been disabled for this experiment. Reset the application to test again.&quot;</span><span class="p">,</span>
</span><span id="MainGUI.show_secondary_window-273"><a href="#MainGUI.show_secondary_window-273"><span class="linenos">273</span></a>                <span class="p">)</span>
</span><span id="MainGUI.show_secondary_window-274"><a href="#MainGUI.show_secondary_window-274"><span class="linenos">274</span></a>                <span class="k">return</span>
</span><span id="MainGUI.show_secondary_window-275"><a href="#MainGUI.show_secondary_window-275"><span class="linenos">275</span></a>
</span><span id="MainGUI.show_secondary_window-276"><a href="#MainGUI.show_secondary_window-276"><span class="linenos">276</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Show the window corresponding to a button press or other event calling this method. Accesses class attribute <code>windows</code> to gain
accesss to the desired instance and call the class <code>show</code> method.</p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><strong>window</strong> (<em>str</em>): A key to the <code>windows</code> dictionary. This will return an instance of the corresponding class to the provided
'key' (window).</li>
</ul>
</div>


                            </div>
                            <div id="MainGUI.hide_secondary_window" class="classattr">
                                        <input id="MainGUI.hide_secondary_window-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">hide_secondary_window</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">window</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.hide_secondary_window-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.hide_secondary_window"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.hide_secondary_window-278"><a href="#MainGUI.hide_secondary_window-278"><span class="linenos">278</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">hide_secondary_window</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.hide_secondary_window-279"><a href="#MainGUI.hide_secondary_window-279"><span class="linenos">279</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.hide_secondary_window-280"><a href="#MainGUI.hide_secondary_window-280"><span class="linenos">280</span></a><span class="sd">        Performs the opposite action of `show_secondary_window`. Hides the window without destroyoing it by calling tkinter method</span>
</span><span id="MainGUI.hide_secondary_window-281"><a href="#MainGUI.hide_secondary_window-281"><span class="linenos">281</span></a><span class="sd">        &#39;withdraw&#39; on the tk.TopLevel (class/`windows` dict value) instance.</span>
</span><span id="MainGUI.hide_secondary_window-282"><a href="#MainGUI.hide_secondary_window-282"><span class="linenos">282</span></a>
</span><span id="MainGUI.hide_secondary_window-283"><a href="#MainGUI.hide_secondary_window-283"><span class="linenos">283</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI.hide_secondary_window-284"><a href="#MainGUI.hide_secondary_window-284"><span class="linenos">284</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI.hide_secondary_window-285"><a href="#MainGUI.hide_secondary_window-285"><span class="linenos">285</span></a><span class="sd">        - **window** (*str*): A key to the `windows` dictionary. This will return an instance of the corresponding class to the provided</span>
</span><span id="MainGUI.hide_secondary_window-286"><a href="#MainGUI.hide_secondary_window-286"><span class="linenos">286</span></a><span class="sd">        &#39;key&#39; (window).</span>
</span><span id="MainGUI.hide_secondary_window-287"><a href="#MainGUI.hide_secondary_window-287"><span class="linenos">287</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.hide_secondary_window-288"><a href="#MainGUI.hide_secondary_window-288"><span class="linenos">288</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">window</span><span class="p">]</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Performs the opposite action of <code><a href="#MainGUI.show_secondary_window">show_secondary_window</a></code>. Hides the window without destroyoing it by calling tkinter method
'withdraw' on the tk.TopLevel (class/<code>windows</code> dict value) instance.</p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><strong>window</strong> (<em>str</em>): A key to the <code>windows</code> dictionary. This will return an instance of the corresponding class to the provided
'key' (window).</li>
</ul>
</div>


                            </div>
                            <div id="MainGUI.create_top_control_buttons" class="classattr">
                                        <input id="MainGUI.create_top_control_buttons-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_top_control_buttons</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.create_top_control_buttons-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.create_top_control_buttons"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.create_top_control_buttons-290"><a href="#MainGUI.create_top_control_buttons-290"><span class="linenos">290</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_top_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.create_top_control_buttons-291"><a href="#MainGUI.create_top_control_buttons-291"><span class="linenos">291</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.create_top_control_buttons-292"><a href="#MainGUI.create_top_control_buttons-292"><span class="linenos">292</span></a><span class="sd">        Creates frame to contain top control buttons, then utilizes `views.gui_common` `GUIUtils` methods to create buttons for</span>
</span><span id="MainGUI.create_top_control_buttons-293"><a href="#MainGUI.create_top_control_buttons-293"><span class="linenos">293</span></a><span class="sd">        &#39;Start/Stop&#39; and &#39;Reset&#39; button functions.</span>
</span><span id="MainGUI.create_top_control_buttons-294"><a href="#MainGUI.create_top_control_buttons-294"><span class="linenos">294</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.create_top_control_buttons-295"><a href="#MainGUI.create_top_control_buttons-295"><span class="linenos">295</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.create_top_control_buttons-296"><a href="#MainGUI.create_top_control_buttons-296"><span class="linenos">296</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_top_control_buttons-297"><a href="#MainGUI.create_top_control_buttons-297"><span class="linenos">297</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI.create_top_control_buttons-298"><a href="#MainGUI.create_top_control_buttons-298"><span class="linenos">298</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_top_control_buttons-299"><a href="#MainGUI.create_top_control_buttons-299"><span class="linenos">299</span></a>
</span><span id="MainGUI.create_top_control_buttons-300"><a href="#MainGUI.create_top_control_buttons-300"><span class="linenos">300</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">start_button_frame</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_button</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_top_control_buttons-301"><a href="#MainGUI.create_top_control_buttons-301"><span class="linenos">301</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-302"><a href="#MainGUI.create_top_control_buttons-302"><span class="linenos">302</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-303"><a href="#MainGUI.create_top_control_buttons-303"><span class="linenos">303</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;START&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_top_control_buttons-304"><a href="#MainGUI.create_top_control_buttons-304"><span class="linenos">304</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-305"><a href="#MainGUI.create_top_control_buttons-305"><span class="linenos">305</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-306"><a href="#MainGUI.create_top_control_buttons-306"><span class="linenos">306</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-307"><a href="#MainGUI.create_top_control_buttons-307"><span class="linenos">307</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_top_control_buttons-308"><a href="#MainGUI.create_top_control_buttons-308"><span class="linenos">308</span></a>
</span><span id="MainGUI.create_top_control_buttons-309"><a href="#MainGUI.create_top_control_buttons-309"><span class="linenos">309</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">reset_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_top_control_buttons-310"><a href="#MainGUI.create_top_control_buttons-310"><span class="linenos">310</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_control_button_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-311"><a href="#MainGUI.create_top_control_buttons-311"><span class="linenos">311</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-312"><a href="#MainGUI.create_top_control_buttons-312"><span class="linenos">312</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">(</span><span class="s2">&quot;RESET&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_top_control_buttons-313"><a href="#MainGUI.create_top_control_buttons-313"><span class="linenos">313</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-314"><a href="#MainGUI.create_top_control_buttons-314"><span class="linenos">314</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-315"><a href="#MainGUI.create_top_control_buttons-315"><span class="linenos">315</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_top_control_buttons-316"><a href="#MainGUI.create_top_control_buttons-316"><span class="linenos">316</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_top_control_buttons-317"><a href="#MainGUI.create_top_control_buttons-317"><span class="linenos">317</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Main control buttons displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_top_control_buttons-318"><a href="#MainGUI.create_top_control_buttons-318"><span class="linenos">318</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.create_top_control_buttons-319"><a href="#MainGUI.create_top_control_buttons-319"><span class="linenos">319</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying main control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_top_control_buttons-320"><a href="#MainGUI.create_top_control_buttons-320"><span class="linenos">320</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Creates frame to contain top control buttons, then utilizes <code>views.gui_common</code> <code>GUIUtils</code> methods to create buttons for
'Start/Stop' and 'Reset' button functions.</p>
</div>


                            </div>
                            <div id="MainGUI.create_timers" class="classattr">
                                        <input id="MainGUI.create_timers-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_timers</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.create_timers-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.create_timers"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.create_timers-322"><a href="#MainGUI.create_timers-322"><span class="linenos">322</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_timers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.create_timers-323"><a href="#MainGUI.create_timers-323"><span class="linenos">323</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.create_timers-324"><a href="#MainGUI.create_timers-324"><span class="linenos">324</span></a><span class="sd">        Creates frame to contain program timer, max runtime timer, and state timer. Then builds both timers and places them into the frame.</span>
</span><span id="MainGUI.create_timers-325"><a href="#MainGUI.create_timers-325"><span class="linenos">325</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.create_timers-326"><a href="#MainGUI.create_timers-326"><span class="linenos">326</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.create_timers-327"><a href="#MainGUI.create_timers-327"><span class="linenos">327</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-328"><a href="#MainGUI.create_timers-328"><span class="linenos">328</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI.create_timers-329"><a href="#MainGUI.create_timers-329"><span class="linenos">329</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-330"><a href="#MainGUI.create_timers-330"><span class="linenos">330</span></a>
</span><span id="MainGUI.create_timers-331"><a href="#MainGUI.create_timers-331"><span class="linenos">331</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-332"><a href="#MainGUI.create_timers-332"><span class="linenos">332</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Time Elapsed:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="MainGUI.create_timers-333"><a href="#MainGUI.create_timers-333"><span class="linenos">333</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-334"><a href="#MainGUI.create_timers-334"><span class="linenos">334</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-335"><a href="#MainGUI.create_timers-335"><span class="linenos">335</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-336"><a href="#MainGUI.create_timers-336"><span class="linenos">336</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-337"><a href="#MainGUI.create_timers-337"><span class="linenos">337</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-338"><a href="#MainGUI.create_timers-338"><span class="linenos">338</span></a>
</span><span id="MainGUI.create_timers-339"><a href="#MainGUI.create_timers-339"><span class="linenos">339</span></a>            <span class="c1">######  BEGIN max total time frame #####</span>
</span><span id="MainGUI.create_timers-340"><a href="#MainGUI.create_timers-340"><span class="linenos">340</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="MainGUI.create_timers-341"><a href="#MainGUI.create_timers-341"><span class="linenos">341</span></a>                <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-342"><a href="#MainGUI.create_timers-342"><span class="linenos">342</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;Maximum Total Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0 Minutes, 0 S&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span><span id="MainGUI.create_timers-343"><a href="#MainGUI.create_timers-343"><span class="linenos">343</span></a>                <span class="p">)</span>
</span><span id="MainGUI.create_timers-344"><a href="#MainGUI.create_timers-344"><span class="linenos">344</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-345"><a href="#MainGUI.create_timers-345"><span class="linenos">345</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-346"><a href="#MainGUI.create_timers-346"><span class="linenos">346</span></a>
</span><span id="MainGUI.create_timers-347"><a href="#MainGUI.create_timers-347"><span class="linenos">347</span></a>            <span class="c1">######  BEGIN state time frame #####</span>
</span><span id="MainGUI.create_timers-348"><a href="#MainGUI.create_timers-348"><span class="linenos">348</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_timer</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-349"><a href="#MainGUI.create_timers-349"><span class="linenos">349</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">timers_frame</span><span class="p">,</span> <span class="s2">&quot;State Time:&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0s&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
</span><span id="MainGUI.create_timers-350"><a href="#MainGUI.create_timers-350"><span class="linenos">350</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-351"><a href="#MainGUI.create_timers-351"><span class="linenos">351</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_timers-352"><a href="#MainGUI.create_timers-352"><span class="linenos">352</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_timers-353"><a href="#MainGUI.create_timers-353"><span class="linenos">353</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ 0.0s&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_timers-354"><a href="#MainGUI.create_timers-354"><span class="linenos">354</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_timers-355"><a href="#MainGUI.create_timers-355"><span class="linenos">355</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI.create_timers-356"><a href="#MainGUI.create_timers-356"><span class="linenos">356</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_timers-357"><a href="#MainGUI.create_timers-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-358"><a href="#MainGUI.create_timers-358"><span class="linenos">358</span></a>
</span><span id="MainGUI.create_timers-359"><a href="#MainGUI.create_timers-359"><span class="linenos">359</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Timers created.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-360"><a href="#MainGUI.create_timers-360"><span class="linenos">360</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.create_timers-361"><a href="#MainGUI.create_timers-361"><span class="linenos">361</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying timers: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_timers-362"><a href="#MainGUI.create_timers-362"><span class="linenos">362</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Creates frame to contain program timer, max runtime timer, and state timer. Then builds both timers and places them into the frame.</p>
</div>


                            </div>
                            <div id="MainGUI.create_status_widgets" class="classattr">
                                        <input id="MainGUI.create_status_widgets-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_status_widgets</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.create_status_widgets-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.create_status_widgets"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.create_status_widgets-364"><a href="#MainGUI.create_status_widgets-364"><span class="linenos">364</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_status_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.create_status_widgets-365"><a href="#MainGUI.create_status_widgets-365"><span class="linenos">365</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.create_status_widgets-366"><a href="#MainGUI.create_status_widgets-366"><span class="linenos">366</span></a><span class="sd">        Creates frames for status widgets (state label, trial number/progress bar, current stimuli, etc), builds these widgets and places them</span>
</span><span id="MainGUI.create_status_widgets-367"><a href="#MainGUI.create_status_widgets-367"><span class="linenos">367</span></a><span class="sd">        into their respective frames.</span>
</span><span id="MainGUI.create_status_widgets-368"><a href="#MainGUI.create_status_widgets-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.create_status_widgets-369"><a href="#MainGUI.create_status_widgets-369"><span class="linenos">369</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.create_status_widgets-370"><a href="#MainGUI.create_status_widgets-370"><span class="linenos">370</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-371"><a href="#MainGUI.create_status_widgets-371"><span class="linenos">371</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span>
</span><span id="MainGUI.create_status_widgets-372"><a href="#MainGUI.create_status_widgets-372"><span class="linenos">372</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-373"><a href="#MainGUI.create_status_widgets-373"><span class="linenos">373</span></a>
</span><span id="MainGUI.create_status_widgets-374"><a href="#MainGUI.create_status_widgets-374"><span class="linenos">374</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-375"><a href="#MainGUI.create_status_widgets-375"><span class="linenos">375</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="MainGUI.create_status_widgets-376"><a href="#MainGUI.create_status_widgets-376"><span class="linenos">376</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-377"><a href="#MainGUI.create_status_widgets-377"><span class="linenos">377</span></a>
</span><span id="MainGUI.create_status_widgets-378"><a href="#MainGUI.create_status_widgets-378"><span class="linenos">378</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-379"><a href="#MainGUI.create_status_widgets-379"><span class="linenos">379</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">status_frame</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span>
</span><span id="MainGUI.create_status_widgets-380"><a href="#MainGUI.create_status_widgets-380"><span class="linenos">380</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-381"><a href="#MainGUI.create_status_widgets-381"><span class="linenos">381</span></a>
</span><span id="MainGUI.create_status_widgets-382"><a href="#MainGUI.create_status_widgets-382"><span class="linenos">382</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-383"><a href="#MainGUI.create_status_widgets-383"><span class="linenos">383</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-384"><a href="#MainGUI.create_status_widgets-384"><span class="linenos">384</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: Idle&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-385"><a href="#MainGUI.create_status_widgets-385"><span class="linenos">385</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI.create_status_widgets-386"><a href="#MainGUI.create_status_widgets-386"><span class="linenos">386</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-387"><a href="#MainGUI.create_status_widgets-387"><span class="linenos">387</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-388"><a href="#MainGUI.create_status_widgets-388"><span class="linenos">388</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-389"><a href="#MainGUI.create_status_widgets-389"><span class="linenos">389</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-390"><a href="#MainGUI.create_status_widgets-390"><span class="linenos">390</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-391"><a href="#MainGUI.create_status_widgets-391"><span class="linenos">391</span></a>
</span><span id="MainGUI.create_status_widgets-392"><a href="#MainGUI.create_status_widgets-392"><span class="linenos">392</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-393"><a href="#MainGUI.create_status_widgets-393"><span class="linenos">393</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-394"><a href="#MainGUI.create_status_widgets-394"><span class="linenos">394</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;0 / 0 Trials Completed&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-395"><a href="#MainGUI.create_status_widgets-395"><span class="linenos">395</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
</span><span id="MainGUI.create_status_widgets-396"><a href="#MainGUI.create_status_widgets-396"><span class="linenos">396</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-397"><a href="#MainGUI.create_status_widgets-397"><span class="linenos">397</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-398"><a href="#MainGUI.create_status_widgets-398"><span class="linenos">398</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-399"><a href="#MainGUI.create_status_widgets-399"><span class="linenos">399</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-400"><a href="#MainGUI.create_status_widgets-400"><span class="linenos">400</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-401"><a href="#MainGUI.create_status_widgets-401"><span class="linenos">401</span></a>
</span><span id="MainGUI.create_status_widgets-402"><a href="#MainGUI.create_status_widgets-402"><span class="linenos">402</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Progressbar</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-403"><a href="#MainGUI.create_status_widgets-403"><span class="linenos">403</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">program_status_statistic_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-404"><a href="#MainGUI.create_status_widgets-404"><span class="linenos">404</span></a>                <span class="n">orient</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-405"><a href="#MainGUI.create_status_widgets-405"><span class="linenos">405</span></a>                <span class="n">length</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-406"><a href="#MainGUI.create_status_widgets-406"><span class="linenos">406</span></a>                <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;determinate&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-407"><a href="#MainGUI.create_status_widgets-407"><span class="linenos">407</span></a>                <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-408"><a href="#MainGUI.create_status_widgets-408"><span class="linenos">408</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-409"><a href="#MainGUI.create_status_widgets-409"><span class="linenos">409</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-410"><a href="#MainGUI.create_status_widgets-410"><span class="linenos">410</span></a>
</span><span id="MainGUI.create_status_widgets-411"><a href="#MainGUI.create_status_widgets-411"><span class="linenos">411</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-412"><a href="#MainGUI.create_status_widgets-412"><span class="linenos">412</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-413"><a href="#MainGUI.create_status_widgets-413"><span class="linenos">413</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Side One | VS | Side Two&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-414"><a href="#MainGUI.create_status_widgets-414"><span class="linenos">414</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI.create_status_widgets-415"><a href="#MainGUI.create_status_widgets-415"><span class="linenos">415</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-416"><a href="#MainGUI.create_status_widgets-416"><span class="linenos">416</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-417"><a href="#MainGUI.create_status_widgets-417"><span class="linenos">417</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-418"><a href="#MainGUI.create_status_widgets-418"><span class="linenos">418</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-419"><a href="#MainGUI.create_status_widgets-419"><span class="linenos">419</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-420"><a href="#MainGUI.create_status_widgets-420"><span class="linenos">420</span></a>
</span><span id="MainGUI.create_status_widgets-421"><a href="#MainGUI.create_status_widgets-421"><span class="linenos">421</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
</span><span id="MainGUI.create_status_widgets-422"><a href="#MainGUI.create_status_widgets-422"><span class="linenos">422</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_information_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-423"><a href="#MainGUI.create_status_widgets-423"><span class="linenos">423</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Trial Number: &quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-424"><a href="#MainGUI.create_status_widgets-424"><span class="linenos">424</span></a>                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Helvetica&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
</span><span id="MainGUI.create_status_widgets-425"><a href="#MainGUI.create_status_widgets-425"><span class="linenos">425</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;light blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-426"><a href="#MainGUI.create_status_widgets-426"><span class="linenos">426</span></a>                <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-427"><a href="#MainGUI.create_status_widgets-427"><span class="linenos">427</span></a>                <span class="n">highlightbackground</span><span class="o">=</span><span class="s2">&quot;dark blue&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_status_widgets-428"><a href="#MainGUI.create_status_widgets-428"><span class="linenos">428</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-429"><a href="#MainGUI.create_status_widgets-429"><span class="linenos">429</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-430"><a href="#MainGUI.create_status_widgets-430"><span class="linenos">430</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Status widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-431"><a href="#MainGUI.create_status_widgets-431"><span class="linenos">431</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.create_status_widgets-432"><a href="#MainGUI.create_status_widgets-432"><span class="linenos">432</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying status widget: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_status_widgets-433"><a href="#MainGUI.create_status_widgets-433"><span class="linenos">433</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Creates frames for status widgets (state label, trial number/progress bar, current stimuli, etc), builds these widgets and places them
into their respective frames.</p>
</div>


                            </div>
                            <div id="MainGUI.create_entry_widgets" class="classattr">
                                        <input id="MainGUI.create_entry_widgets-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_entry_widgets</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.create_entry_widgets-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.create_entry_widgets"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.create_entry_widgets-435"><a href="#MainGUI.create_entry_widgets-435"><span class="linenos">435</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_entry_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.create_entry_widgets-436"><a href="#MainGUI.create_entry_widgets-436"><span class="linenos">436</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.create_entry_widgets-437"><a href="#MainGUI.create_entry_widgets-437"><span class="linenos">437</span></a><span class="sd">        Creates frame to store labels and entries for ITI, TTC, Sample times using `views.gui_common` GUIUtils static class methods.</span>
</span><span id="MainGUI.create_entry_widgets-438"><a href="#MainGUI.create_entry_widgets-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.create_entry_widgets-439"><a href="#MainGUI.create_entry_widgets-439"><span class="linenos">439</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.create_entry_widgets-440"><a href="#MainGUI.create_entry_widgets-440"><span class="linenos">440</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-441"><a href="#MainGUI.create_entry_widgets-441"><span class="linenos">441</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="MainGUI.create_entry_widgets-442"><a href="#MainGUI.create_entry_widgets-442"><span class="linenos">442</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-443"><a href="#MainGUI.create_entry_widgets-443"><span class="linenos">443</span></a>
</span><span id="MainGUI.create_entry_widgets-444"><a href="#MainGUI.create_entry_widgets-444"><span class="linenos">444</span></a>            <span class="c1"># Simplify the creation of labeled entries</span>
</span><span id="MainGUI.create_entry_widgets-445"><a href="#MainGUI.create_entry_widgets-445"><span class="linenos">445</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-446"><a href="#MainGUI.create_entry_widgets-446"><span class="linenos">446</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-447"><a href="#MainGUI.create_entry_widgets-447"><span class="linenos">447</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;ITI Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-448"><a href="#MainGUI.create_entry_widgets-448"><span class="linenos">448</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-449"><a href="#MainGUI.create_entry_widgets-449"><span class="linenos">449</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-450"><a href="#MainGUI.create_entry_widgets-450"><span class="linenos">450</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-451"><a href="#MainGUI.create_entry_widgets-451"><span class="linenos">451</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-452"><a href="#MainGUI.create_entry_widgets-452"><span class="linenos">452</span></a>
</span><span id="MainGUI.create_entry_widgets-453"><a href="#MainGUI.create_entry_widgets-453"><span class="linenos">453</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-454"><a href="#MainGUI.create_entry_widgets-454"><span class="linenos">454</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-455"><a href="#MainGUI.create_entry_widgets-455"><span class="linenos">455</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;TTC Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-456"><a href="#MainGUI.create_entry_widgets-456"><span class="linenos">456</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-457"><a href="#MainGUI.create_entry_widgets-457"><span class="linenos">457</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-458"><a href="#MainGUI.create_entry_widgets-458"><span class="linenos">458</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-459"><a href="#MainGUI.create_entry_widgets-459"><span class="linenos">459</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-460"><a href="#MainGUI.create_entry_widgets-460"><span class="linenos">460</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-461"><a href="#MainGUI.create_entry_widgets-461"><span class="linenos">461</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-462"><a href="#MainGUI.create_entry_widgets-462"><span class="linenos">462</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;Sample Time&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-463"><a href="#MainGUI.create_entry_widgets-463"><span class="linenos">463</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_var&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-464"><a href="#MainGUI.create_entry_widgets-464"><span class="linenos">464</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-465"><a href="#MainGUI.create_entry_widgets-465"><span class="linenos">465</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-466"><a href="#MainGUI.create_entry_widgets-466"><span class="linenos">466</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-467"><a href="#MainGUI.create_entry_widgets-467"><span class="linenos">467</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_trial_blocks_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-468"><a href="#MainGUI.create_entry_widgets-468"><span class="linenos">468</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-469"><a href="#MainGUI.create_entry_widgets-469"><span class="linenos">469</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Trial Blocks&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-470"><a href="#MainGUI.create_entry_widgets-470"><span class="linenos">470</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trial Blocks&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-471"><a href="#MainGUI.create_entry_widgets-471"><span class="linenos">471</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-472"><a href="#MainGUI.create_entry_widgets-472"><span class="linenos">472</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-473"><a href="#MainGUI.create_entry_widgets-473"><span class="linenos">473</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-474"><a href="#MainGUI.create_entry_widgets-474"><span class="linenos">474</span></a>
</span><span id="MainGUI.create_entry_widgets-475"><a href="#MainGUI.create_entry_widgets-475"><span class="linenos">475</span></a>            <span class="c1"># Similarly for random plus/minus intervals and the number of stimuli</span>
</span><span id="MainGUI.create_entry_widgets-476"><a href="#MainGUI.create_entry_widgets-476"><span class="linenos">476</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">ITI_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-477"><a href="#MainGUI.create_entry_widgets-477"><span class="linenos">477</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-478"><a href="#MainGUI.create_entry_widgets-478"><span class="linenos">478</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- ITI&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-479"><a href="#MainGUI.create_entry_widgets-479"><span class="linenos">479</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;ITI_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-480"><a href="#MainGUI.create_entry_widgets-480"><span class="linenos">480</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-481"><a href="#MainGUI.create_entry_widgets-481"><span class="linenos">481</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-482"><a href="#MainGUI.create_entry_widgets-482"><span class="linenos">482</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-483"><a href="#MainGUI.create_entry_widgets-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">TTC_Random_Interval_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-484"><a href="#MainGUI.create_entry_widgets-484"><span class="linenos">484</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-485"><a href="#MainGUI.create_entry_widgets-485"><span class="linenos">485</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- TTC&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-486"><a href="#MainGUI.create_entry_widgets-486"><span class="linenos">486</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;TTC_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-487"><a href="#MainGUI.create_entry_widgets-487"><span class="linenos">487</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-488"><a href="#MainGUI.create_entry_widgets-488"><span class="linenos">488</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-489"><a href="#MainGUI.create_entry_widgets-489"><span class="linenos">489</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-490"><a href="#MainGUI.create_entry_widgets-490"><span class="linenos">490</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">Sample_Interval_Random_Frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-491"><a href="#MainGUI.create_entry_widgets-491"><span class="linenos">491</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-492"><a href="#MainGUI.create_entry_widgets-492"><span class="linenos">492</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;+/- Sample&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-493"><a href="#MainGUI.create_entry_widgets-493"><span class="linenos">493</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tkinter_entries</span><span class="p">[</span><span class="s2">&quot;sample_random_entry&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-494"><a href="#MainGUI.create_entry_widgets-494"><span class="linenos">494</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-495"><a href="#MainGUI.create_entry_widgets-495"><span class="linenos">495</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-496"><a href="#MainGUI.create_entry_widgets-496"><span class="linenos">496</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-497"><a href="#MainGUI.create_entry_widgets-497"><span class="linenos">497</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">num_stimuli_frame</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_labeled_entry</span><span class="p">(</span>
</span><span id="MainGUI.create_entry_widgets-498"><a href="#MainGUI.create_entry_widgets-498"><span class="linenos">498</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_widgets_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-499"><a href="#MainGUI.create_entry_widgets-499"><span class="linenos">499</span></a>                <span class="n">label_text</span><span class="o">=</span><span class="s2">&quot;# Stimuli&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-500"><a href="#MainGUI.create_entry_widgets-500"><span class="linenos">500</span></a>                <span class="n">text_var</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Stimuli&quot;</span><span class="p">],</span>
</span><span id="MainGUI.create_entry_widgets-501"><a href="#MainGUI.create_entry_widgets-501"><span class="linenos">501</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-502"><a href="#MainGUI.create_entry_widgets-502"><span class="linenos">502</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI.create_entry_widgets-503"><a href="#MainGUI.create_entry_widgets-503"><span class="linenos">503</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-504"><a href="#MainGUI.create_entry_widgets-504"><span class="linenos">504</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Entry widgets displayed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-505"><a href="#MainGUI.create_entry_widgets-505"><span class="linenos">505</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.create_entry_widgets-506"><a href="#MainGUI.create_entry_widgets-506"><span class="linenos">506</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying entry widgets: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_entry_widgets-507"><a href="#MainGUI.create_entry_widgets-507"><span class="linenos">507</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Creates frame to store labels and entries for ITI, TTC, Sample times using <code>views.gui_common</code> GUIUtils static class methods.</p>
</div>


                            </div>
                            <div id="MainGUI.create_lower_control_buttons" class="classattr">
                                        <input id="MainGUI.create_lower_control_buttons-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_lower_control_buttons</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.create_lower_control_buttons-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.create_lower_control_buttons"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.create_lower_control_buttons-509"><a href="#MainGUI.create_lower_control_buttons-509"><span class="linenos">509</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_lower_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.create_lower_control_buttons-510"><a href="#MainGUI.create_lower_control_buttons-510"><span class="linenos">510</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.create_lower_control_buttons-511"><a href="#MainGUI.create_lower_control_buttons-511"><span class="linenos">511</span></a><span class="sd">        Creates frame for lower control buttons (those that open windows and save data) and sets their command to open (deiconify) their</span>
</span><span id="MainGUI.create_lower_control_buttons-512"><a href="#MainGUI.create_lower_control_buttons-512"><span class="linenos">512</span></a><span class="sd">        respective window.</span>
</span><span id="MainGUI.create_lower_control_buttons-513"><a href="#MainGUI.create_lower_control_buttons-513"><span class="linenos">513</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.create_lower_control_buttons-514"><a href="#MainGUI.create_lower_control_buttons-514"><span class="linenos">514</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.create_lower_control_buttons-515"><a href="#MainGUI.create_lower_control_buttons-515"><span class="linenos">515</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_basic_frame</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-516"><a href="#MainGUI.create_lower_control_buttons-516"><span class="linenos">516</span></a>                <span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">4</span>
</span><span id="MainGUI.create_lower_control_buttons-517"><a href="#MainGUI.create_lower_control_buttons-517"><span class="linenos">517</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-518"><a href="#MainGUI.create_lower_control_buttons-518"><span class="linenos">518</span></a>
</span><span id="MainGUI.create_lower_control_buttons-519"><a href="#MainGUI.create_lower_control_buttons-519"><span class="linenos">519</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">test_valves_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-520"><a href="#MainGUI.create_lower_control_buttons-520"><span class="linenos">520</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-521"><a href="#MainGUI.create_lower_control_buttons-521"><span class="linenos">521</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Testing / Prime Valves&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-522"><a href="#MainGUI.create_lower_control_buttons-522"><span class="linenos">522</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Testing&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-523"><a href="#MainGUI.create_lower_control_buttons-523"><span class="linenos">523</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-524"><a href="#MainGUI.create_lower_control_buttons-524"><span class="linenos">524</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-525"><a href="#MainGUI.create_lower_control_buttons-525"><span class="linenos">525</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-526"><a href="#MainGUI.create_lower_control_buttons-526"><span class="linenos">526</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-527"><a href="#MainGUI.create_lower_control_buttons-527"><span class="linenos">527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">valve_control_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-528"><a href="#MainGUI.create_lower_control_buttons-528"><span class="linenos">528</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-529"><a href="#MainGUI.create_lower_control_buttons-529"><span class="linenos">529</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-530"><a href="#MainGUI.create_lower_control_buttons-530"><span class="linenos">530</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Valve Control&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-531"><a href="#MainGUI.create_lower_control_buttons-531"><span class="linenos">531</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-532"><a href="#MainGUI.create_lower_control_buttons-532"><span class="linenos">532</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-533"><a href="#MainGUI.create_lower_control_buttons-533"><span class="linenos">533</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-534"><a href="#MainGUI.create_lower_control_buttons-534"><span class="linenos">534</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-535"><a href="#MainGUI.create_lower_control_buttons-535"><span class="linenos">535</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">program_schedule_button_frame</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-536"><a href="#MainGUI.create_lower_control_buttons-536"><span class="linenos">536</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-537"><a href="#MainGUI.create_lower_control_buttons-537"><span class="linenos">537</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-538"><a href="#MainGUI.create_lower_control_buttons-538"><span class="linenos">538</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-539"><a href="#MainGUI.create_lower_control_buttons-539"><span class="linenos">539</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-540"><a href="#MainGUI.create_lower_control_buttons-540"><span class="linenos">540</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-541"><a href="#MainGUI.create_lower_control_buttons-541"><span class="linenos">541</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-542"><a href="#MainGUI.create_lower_control_buttons-542"><span class="linenos">542</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-543"><a href="#MainGUI.create_lower_control_buttons-543"><span class="linenos">543</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_ctrl_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-544"><a href="#MainGUI.create_lower_control_buttons-544"><span class="linenos">544</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-545"><a href="#MainGUI.create_lower_control_buttons-545"><span class="linenos">545</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Valve / Stimuli&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-546"><a href="#MainGUI.create_lower_control_buttons-546"><span class="linenos">546</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Experiment Control&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-547"><a href="#MainGUI.create_lower_control_buttons-547"><span class="linenos">547</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-548"><a href="#MainGUI.create_lower_control_buttons-548"><span class="linenos">548</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-549"><a href="#MainGUI.create_lower_control_buttons-549"><span class="linenos">549</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-550"><a href="#MainGUI.create_lower_control_buttons-550"><span class="linenos">550</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-551"><a href="#MainGUI.create_lower_control_buttons-551"><span class="linenos">551</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">lick_window_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-552"><a href="#MainGUI.create_lower_control_buttons-552"><span class="linenos">552</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-553"><a href="#MainGUI.create_lower_control_buttons-553"><span class="linenos">553</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Event Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-554"><a href="#MainGUI.create_lower_control_buttons-554"><span class="linenos">554</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Event Data&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-555"><a href="#MainGUI.create_lower_control_buttons-555"><span class="linenos">555</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-556"><a href="#MainGUI.create_lower_control_buttons-556"><span class="linenos">556</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-557"><a href="#MainGUI.create_lower_control_buttons-557"><span class="linenos">557</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-558"><a href="#MainGUI.create_lower_control_buttons-558"><span class="linenos">558</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-559"><a href="#MainGUI.create_lower_control_buttons-559"><span class="linenos">559</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">raster_plot_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-560"><a href="#MainGUI.create_lower_control_buttons-560"><span class="linenos">560</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-561"><a href="#MainGUI.create_lower_control_buttons-561"><span class="linenos">561</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Rasterized Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-562"><a href="#MainGUI.create_lower_control_buttons-562"><span class="linenos">562</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_secondary_window</span><span class="p">(</span><span class="s2">&quot;Raster Plot&quot;</span><span class="p">),</span>
</span><span id="MainGUI.create_lower_control_buttons-563"><a href="#MainGUI.create_lower_control_buttons-563"><span class="linenos">563</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-564"><a href="#MainGUI.create_lower_control_buttons-564"><span class="linenos">564</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-565"><a href="#MainGUI.create_lower_control_buttons-565"><span class="linenos">565</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-566"><a href="#MainGUI.create_lower_control_buttons-566"><span class="linenos">566</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-567"><a href="#MainGUI.create_lower_control_buttons-567"><span class="linenos">567</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">save_data_button_frame</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">create_button</span><span class="p">(</span>
</span><span id="MainGUI.create_lower_control_buttons-568"><a href="#MainGUI.create_lower_control_buttons-568"><span class="linenos">568</span></a>                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lower_control_buttons_frame</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-569"><a href="#MainGUI.create_lower_control_buttons-569"><span class="linenos">569</span></a>                <span class="n">button_text</span><span class="o">=</span><span class="s2">&quot;Save Data&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-570"><a href="#MainGUI.create_lower_control_buttons-570"><span class="linenos">570</span></a>                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_button_handler</span><span class="p">(),</span>
</span><span id="MainGUI.create_lower_control_buttons-571"><a href="#MainGUI.create_lower_control_buttons-571"><span class="linenos">571</span></a>                <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-572"><a href="#MainGUI.create_lower_control_buttons-572"><span class="linenos">572</span></a>                <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-573"><a href="#MainGUI.create_lower_control_buttons-573"><span class="linenos">573</span></a>                <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
</span><span id="MainGUI.create_lower_control_buttons-574"><a href="#MainGUI.create_lower_control_buttons-574"><span class="linenos">574</span></a>            <span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-575"><a href="#MainGUI.create_lower_control_buttons-575"><span class="linenos">575</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Lower control buttons created.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-576"><a href="#MainGUI.create_lower_control_buttons-576"><span class="linenos">576</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.create_lower_control_buttons-577"><a href="#MainGUI.create_lower_control_buttons-577"><span class="linenos">577</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error displaying lower control buttons: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.create_lower_control_buttons-578"><a href="#MainGUI.create_lower_control_buttons-578"><span class="linenos">578</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Creates frame for lower control buttons (those that open windows and save data) and sets their command to open (deiconify) their
respective window.</p>
</div>


                            </div>
                            <div id="MainGUI.save_button_handler" class="classattr">
                                        <input id="MainGUI.save_button_handler-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save_button_handler</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.save_button_handler-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.save_button_handler"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.save_button_handler-580"><a href="#MainGUI.save_button_handler-580"><span class="linenos">580</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">save_button_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.save_button_handler-581"><a href="#MainGUI.save_button_handler-581"><span class="linenos">581</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.save_button_handler-582"><a href="#MainGUI.save_button_handler-582"><span class="linenos">582</span></a><span class="sd">        Here we define behavior for clicking the &#39;Save Data&#39; button. If either main dataframe is empty, we inform the user of this, otherwise</span>
</span><span id="MainGUI.save_button_handler-583"><a href="#MainGUI.save_button_handler-583"><span class="linenos">583</span></a><span class="sd">        we call the `save_all_data` method from `models.experiment_process_data`.</span>
</span><span id="MainGUI.save_button_handler-584"><a href="#MainGUI.save_button_handler-584"><span class="linenos">584</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.save_button_handler-585"><a href="#MainGUI.save_button_handler-585"><span class="linenos">585</span></a>        <span class="n">sched_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">program_schedule_df</span>
</span><span id="MainGUI.save_button_handler-586"><a href="#MainGUI.save_button_handler-586"><span class="linenos">586</span></a>        <span class="n">event_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">event_data</span><span class="o">.</span><span class="n">event_dataframe</span>
</span><span id="MainGUI.save_button_handler-587"><a href="#MainGUI.save_button_handler-587"><span class="linenos">587</span></a>
</span><span id="MainGUI.save_button_handler-588"><a href="#MainGUI.save_button_handler-588"><span class="linenos">588</span></a>        <span class="k">if</span> <span class="n">sched_df</span><span class="o">.</span><span class="n">empty</span> <span class="ow">or</span> <span class="n">event_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="MainGUI.save_button_handler-589"><a href="#MainGUI.save_button_handler-589"><span class="linenos">589</span></a>            <span class="n">response</span> <span class="o">=</span> <span class="n">GUIUtils</span><span class="o">.</span><span class="n">askyesno</span><span class="p">(</span>
</span><span id="MainGUI.save_button_handler-590"><a href="#MainGUI.save_button_handler-590"><span class="linenos">590</span></a>                <span class="s2">&quot;Hmm...&quot;</span><span class="p">,</span>
</span><span id="MainGUI.save_button_handler-591"><a href="#MainGUI.save_button_handler-591"><span class="linenos">591</span></a>                <span class="s2">&quot;One some of your data appears missing or empty... save anyway?&quot;</span><span class="p">,</span>
</span><span id="MainGUI.save_button_handler-592"><a href="#MainGUI.save_button_handler-592"><span class="linenos">592</span></a>            <span class="p">)</span>
</span><span id="MainGUI.save_button_handler-593"><a href="#MainGUI.save_button_handler-593"><span class="linenos">593</span></a>
</span><span id="MainGUI.save_button_handler-594"><a href="#MainGUI.save_button_handler-594"><span class="linenos">594</span></a>            <span class="k">if</span> <span class="n">response</span><span class="p">:</span>
</span><span id="MainGUI.save_button_handler-595"><a href="#MainGUI.save_button_handler-595"><span class="linenos">595</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span><span id="MainGUI.save_button_handler-596"><a href="#MainGUI.save_button_handler-596"><span class="linenos">596</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MainGUI.save_button_handler-597"><a href="#MainGUI.save_button_handler-597"><span class="linenos">597</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">save_all_data</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Here we define behavior for clicking the 'Save Data' button. If either main dataframe is empty, we inform the user of this, otherwise
we call the <code>save_all_data</code> method from <code>models.experiment_process_data</code>.</p>
</div>


                            </div>
                            <div id="MainGUI.update_clock_label" class="classattr">
                                        <input id="MainGUI.update_clock_label-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_clock_label</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.update_clock_label-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.update_clock_label"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.update_clock_label-599"><a href="#MainGUI.update_clock_label-599"><span class="linenos">599</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_clock_label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.update_clock_label-600"><a href="#MainGUI.update_clock_label-600"><span class="linenos">600</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.update_clock_label-601"><a href="#MainGUI.update_clock_label-601"><span class="linenos">601</span></a><span class="sd">        This method defines logic to update primary timers such as main program timer and state timer. Max time is only updated once, but this</span>
</span><span id="MainGUI.update_clock_label-602"><a href="#MainGUI.update_clock_label-602"><span class="linenos">602</span></a><span class="sd">        operation is separated from this method. This task is scheduled via a tkinter.after call to execute every 100ms so that the main timer</span>
</span><span id="MainGUI.update_clock_label-603"><a href="#MainGUI.update_clock_label-603"><span class="linenos">603</span></a><span class="sd">        is responsive without overwhelming the main thread.</span>
</span><span id="MainGUI.update_clock_label-604"><a href="#MainGUI.update_clock_label-604"><span class="linenos">604</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.update_clock_label-605"><a href="#MainGUI.update_clock_label-605"><span class="linenos">605</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.update_clock_label-606"><a href="#MainGUI.update_clock_label-606"><span class="linenos">606</span></a>            <span class="n">elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="MainGUI.update_clock_label-607"><a href="#MainGUI.update_clock_label-607"><span class="linenos">607</span></a>            <span class="n">state_elapsed_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">state_start_time</span>
</span><span id="MainGUI.update_clock_label-608"><a href="#MainGUI.update_clock_label-608"><span class="linenos">608</span></a>
</span><span id="MainGUI.update_clock_label-609"><a href="#MainGUI.update_clock_label-609"><span class="linenos">609</span></a>            <span class="nb">min</span><span class="p">,</span> <span class="n">sec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">convert_seconds_to_minutes_seconds</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">)</span>
</span><span id="MainGUI.update_clock_label-610"><a href="#MainGUI.update_clock_label-610"><span class="linenos">610</span></a>
</span><span id="MainGUI.update_clock_label-611"><a href="#MainGUI.update_clock_label-611"><span class="linenos">611</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">elapsed_time</span><span class="p">))</span>
</span><span id="MainGUI.update_clock_label-612"><a href="#MainGUI.update_clock_label-612"><span class="linenos">612</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">main_timer_min_sec_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI.update_clock_label-613"><a href="#MainGUI.update_clock_label-613"><span class="linenos">613</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;| </span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">min</span><span class="p">,</span> <span class="n">sec</span><span class="p">)</span>
</span><span id="MainGUI.update_clock_label-614"><a href="#MainGUI.update_clock_label-614"><span class="linenos">614</span></a>            <span class="p">)</span>
</span><span id="MainGUI.update_clock_label-615"><a href="#MainGUI.update_clock_label-615"><span class="linenos">615</span></a>
</span><span id="MainGUI.update_clock_label-616"><a href="#MainGUI.update_clock_label-616"><span class="linenos">616</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_elapsed_time</span><span class="p">))</span>
</span><span id="MainGUI.update_clock_label-617"><a href="#MainGUI.update_clock_label-617"><span class="linenos">617</span></a>
</span><span id="MainGUI.update_clock_label-618"><a href="#MainGUI.update_clock_label-618"><span class="linenos">618</span></a>            <span class="n">clock_update_task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_clock_label</span><span class="p">)</span>
</span><span id="MainGUI.update_clock_label-619"><a href="#MainGUI.update_clock_label-619"><span class="linenos">619</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">scheduled_tasks</span><span class="p">[</span><span class="s2">&quot;CLOCK UPDATE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">clock_update_task</span>
</span><span id="MainGUI.update_clock_label-620"><a href="#MainGUI.update_clock_label-620"><span class="linenos">620</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.update_clock_label-621"><a href="#MainGUI.update_clock_label-621"><span class="linenos">621</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating clock label: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_clock_label-622"><a href="#MainGUI.update_clock_label-622"><span class="linenos">622</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>This method defines logic to update primary timers such as main program timer and state timer. Max time is only updated once, but this
operation is separated from this method. This task is scheduled via a tkinter.after call to execute every 100ms so that the main timer
is responsive without overwhelming the main thread.</p>
</div>


                            </div>
                            <div id="MainGUI.update_max_time" class="classattr">
                                        <input id="MainGUI.update_max_time-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_max_time</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.update_max_time-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.update_max_time"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.update_max_time-624"><a href="#MainGUI.update_max_time-624"><span class="linenos">624</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_max_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.update_max_time-625"><a href="#MainGUI.update_max_time-625"><span class="linenos">625</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.update_max_time-626"><a href="#MainGUI.update_max_time-626"><span class="linenos">626</span></a><span class="sd">        This method updates the maximum runtime timer by retreiving this value from `models.experiment_process_data` and configuring the</span>
</span><span id="MainGUI.update_max_time-627"><a href="#MainGUI.update_max_time-627"><span class="linenos">627</span></a><span class="sd">        timer label.</span>
</span><span id="MainGUI.update_max_time-628"><a href="#MainGUI.update_max_time-628"><span class="linenos">628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.update_max_time-629"><a href="#MainGUI.update_max_time-629"><span class="linenos">629</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.update_max_time-630"><a href="#MainGUI.update_max_time-630"><span class="linenos">630</span></a>            <span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">calculate_max_runtime</span><span class="p">()</span>
</span><span id="MainGUI.update_max_time-631"><a href="#MainGUI.update_max_time-631"><span class="linenos">631</span></a>
</span><span id="MainGUI.update_max_time-632"><a href="#MainGUI.update_max_time-632"><span class="linenos">632</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">maximum_total_time</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI.update_max_time-633"><a href="#MainGUI.update_max_time-633"><span class="linenos">633</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.0f}</span><span class="s2"> Minutes, </span><span class="si">{:.1f}</span><span class="s2"> S&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">minutes</span><span class="p">,</span> <span class="n">seconds</span><span class="p">)</span>
</span><span id="MainGUI.update_max_time-634"><a href="#MainGUI.update_max_time-634"><span class="linenos">634</span></a>            <span class="p">)</span>
</span><span id="MainGUI.update_max_time-635"><a href="#MainGUI.update_max_time-635"><span class="linenos">635</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.update_max_time-636"><a href="#MainGUI.update_max_time-636"><span class="linenos">636</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating max time: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_max_time-637"><a href="#MainGUI.update_max_time-637"><span class="linenos">637</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>This method updates the maximum runtime timer by retreiving this value from <code>models.experiment_process_data</code> and configuring the
timer label.</p>
</div>


                            </div>
                            <div id="MainGUI.update_on_new_trial" class="classattr">
                                        <input id="MainGUI.update_on_new_trial-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_on_new_trial</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">side_1_stimulus</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">side_2_stimulus</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.update_on_new_trial-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.update_on_new_trial"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.update_on_new_trial-639"><a href="#MainGUI.update_on_new_trial-639"><span class="linenos">639</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_new_trial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">side_1_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">side_2_stimulus</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.update_on_new_trial-640"><a href="#MainGUI.update_on_new_trial-640"><span class="linenos">640</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_new_trial-641"><a href="#MainGUI.update_on_new_trial-641"><span class="linenos">641</span></a><span class="sd">        Updates the new trial items such as program schedule window current trial highlighting and updates</span>
</span><span id="MainGUI.update_on_new_trial-642"><a href="#MainGUI.update_on_new_trial-642"><span class="linenos">642</span></a><span class="sd">        the main_gui status information widgets with current trial number and updates progress bar.</span>
</span><span id="MainGUI.update_on_new_trial-643"><a href="#MainGUI.update_on_new_trial-643"><span class="linenos">643</span></a>
</span><span id="MainGUI.update_on_new_trial-644"><a href="#MainGUI.update_on_new_trial-644"><span class="linenos">644</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI.update_on_new_trial-645"><a href="#MainGUI.update_on_new_trial-645"><span class="linenos">645</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI.update_on_new_trial-646"><a href="#MainGUI.update_on_new_trial-646"><span class="linenos">646</span></a><span class="sd">        - **side_1_stimulus** (*str*): This parameter is of type string and is generally pulled from the program schedule dataframe in</span>
</span><span id="MainGUI.update_on_new_trial-647"><a href="#MainGUI.update_on_new_trial-647"><span class="linenos">647</span></a><span class="sd">        `app_logic` &#39;StateMachine&#39; to provide the new stimulus for the upcoming trial for side one.</span>
</span><span id="MainGUI.update_on_new_trial-648"><a href="#MainGUI.update_on_new_trial-648"><span class="linenos">648</span></a><span class="sd">        - **side_2_stimulus** (*str*): This parameter mirrors `side_1_stimulus` in all aspects except that this one reflects the stmulus for</span>
</span><span id="MainGUI.update_on_new_trial-649"><a href="#MainGUI.update_on_new_trial-649"><span class="linenos">649</span></a><span class="sd">        side two.</span>
</span><span id="MainGUI.update_on_new_trial-650"><a href="#MainGUI.update_on_new_trial-650"><span class="linenos">650</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_new_trial-651"><a href="#MainGUI.update_on_new_trial-651"><span class="linenos">651</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.update_on_new_trial-652"><a href="#MainGUI.update_on_new_trial-652"><span class="linenos">652</span></a>            <span class="n">trial_number</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">current_trial_number</span>
</span><span id="MainGUI.update_on_new_trial-653"><a href="#MainGUI.update_on_new_trial-653"><span class="linenos">653</span></a>            <span class="n">total_trials</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">exp_data</span><span class="o">.</span><span class="n">exp_var_entries</span><span class="p">[</span><span class="s2">&quot;Num Trials&quot;</span><span class="p">]</span>
</span><span id="MainGUI.update_on_new_trial-654"><a href="#MainGUI.update_on_new_trial-654"><span class="linenos">654</span></a>
</span><span id="MainGUI.update_on_new_trial-655"><a href="#MainGUI.update_on_new_trial-655"><span class="linenos">655</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trials_completed_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI.update_on_new_trial-656"><a href="#MainGUI.update_on_new_trial-656"><span class="linenos">656</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">total_trials</span><span class="si">}</span><span class="s2"> Trials Completed&quot;</span>
</span><span id="MainGUI.update_on_new_trial-657"><a href="#MainGUI.update_on_new_trial-657"><span class="linenos">657</span></a>            <span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-658"><a href="#MainGUI.update_on_new_trial-658"><span class="linenos">658</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">stimuli_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI.update_on_new_trial-659"><a href="#MainGUI.update_on_new_trial-659"><span class="linenos">659</span></a>                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Side One: </span><span class="si">{</span><span class="n">side_1_stimulus</span><span class="si">}</span><span class="s2"> | VS | Side Two: </span><span class="si">{</span><span class="n">side_2_stimulus</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="MainGUI.update_on_new_trial-660"><a href="#MainGUI.update_on_new_trial-660"><span class="linenos">660</span></a>            <span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-661"><a href="#MainGUI.update_on_new_trial-661"><span class="linenos">661</span></a>
</span><span id="MainGUI.update_on_new_trial-662"><a href="#MainGUI.update_on_new_trial-662"><span class="linenos">662</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">trial_number_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Trial Number: </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-663"><a href="#MainGUI.update_on_new_trial-663"><span class="linenos">663</span></a>
</span><span id="MainGUI.update_on_new_trial-664"><a href="#MainGUI.update_on_new_trial-664"><span class="linenos">664</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="s2">&quot;Program Schedule&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">refresh_start_trial</span><span class="p">(</span><span class="n">trial_number</span><span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-665"><a href="#MainGUI.update_on_new_trial-665"><span class="linenos">665</span></a>
</span><span id="MainGUI.update_on_new_trial-666"><a href="#MainGUI.update_on_new_trial-666"><span class="linenos">666</span></a>            <span class="c1"># Set the new value for the progress bar</span>
</span><span id="MainGUI.update_on_new_trial-667"><a href="#MainGUI.update_on_new_trial-667"><span class="linenos">667</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">trial_number</span> <span class="o">/</span> <span class="n">total_trials</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</span><span id="MainGUI.update_on_new_trial-668"><a href="#MainGUI.update_on_new_trial-668"><span class="linenos">668</span></a>
</span><span id="MainGUI.update_on_new_trial-669"><a href="#MainGUI.update_on_new_trial-669"><span class="linenos">669</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI for new trial </span><span class="si">{</span><span class="n">trial_number</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-670"><a href="#MainGUI.update_on_new_trial-670"><span class="linenos">670</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.update_on_new_trial-671"><a href="#MainGUI.update_on_new_trial-671"><span class="linenos">671</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI for new trial: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_new_trial-672"><a href="#MainGUI.update_on_new_trial-672"><span class="linenos">672</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Updates the new trial items such as program schedule window current trial highlighting and updates
the main_gui status information widgets with current trial number and updates progress bar.</p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><strong>side_1_stimulus</strong> (<em>str</em>): This parameter is of type string and is generally pulled from the program schedule dataframe in
<code><a href="app_logic.html">app_logic</a></code> 'StateMachine' to provide the new stimulus for the upcoming trial for side one.</li>
<li><strong>side_2_stimulus</strong> (<em>str</em>): This parameter mirrors <code>side_1_stimulus</code> in all aspects except that this one reflects the stmulus for
side two.</li>
</ul>
</div>


                            </div>
                            <div id="MainGUI.update_on_state_change" class="classattr">
                                        <input id="MainGUI.update_on_state_change-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_on_state_change</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">state_duration_ms</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">state</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.update_on_state_change-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.update_on_state_change"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.update_on_state_change-674"><a href="#MainGUI.update_on_state_change-674"><span class="linenos">674</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_state_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_duration_ms</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.update_on_state_change-675"><a href="#MainGUI.update_on_state_change-675"><span class="linenos">675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_state_change-676"><a href="#MainGUI.update_on_state_change-676"><span class="linenos">676</span></a><span class="sd">        Here we define the GUI objects that need to be updated upon a state change. This includes the current state label as</span>
</span><span id="MainGUI.update_on_state_change-677"><a href="#MainGUI.update_on_state_change-677"><span class="linenos">677</span></a><span class="sd">        well as the state timer.</span>
</span><span id="MainGUI.update_on_state_change-678"><a href="#MainGUI.update_on_state_change-678"><span class="linenos">678</span></a>
</span><span id="MainGUI.update_on_state_change-679"><a href="#MainGUI.update_on_state_change-679"><span class="linenos">679</span></a><span class="sd">        Parameters</span>
</span><span id="MainGUI.update_on_state_change-680"><a href="#MainGUI.update_on_state_change-680"><span class="linenos">680</span></a><span class="sd">        ----------</span>
</span><span id="MainGUI.update_on_state_change-681"><a href="#MainGUI.update_on_state_change-681"><span class="linenos">681</span></a><span class="sd">        - **state_duration_ms** (*float*): Provides the duration of this state in ms. Is generally pulled from the program schedule df for</span>
</span><span id="MainGUI.update_on_state_change-682"><a href="#MainGUI.update_on_state_change-682"><span class="linenos">682</span></a><span class="sd">        the current trial. Converted to seconds by dividing the parameter by 1000.0.</span>
</span><span id="MainGUI.update_on_state_change-683"><a href="#MainGUI.update_on_state_change-683"><span class="linenos">683</span></a><span class="sd">        - **state** (*str*): Provides the current to program state to update state label to inform user that program has changed state.</span>
</span><span id="MainGUI.update_on_state_change-684"><a href="#MainGUI.update_on_state_change-684"><span class="linenos">684</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_state_change-685"><a href="#MainGUI.update_on_state_change-685"><span class="linenos">685</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.update_on_state_change-686"><a href="#MainGUI.update_on_state_change-686"><span class="linenos">686</span></a>            <span class="c1">### clear full state time ###</span>
</span><span id="MainGUI.update_on_state_change-687"><a href="#MainGUI.update_on_state_change-687"><span class="linenos">687</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
</span><span id="MainGUI.update_on_state_change-688"><a href="#MainGUI.update_on_state_change-688"><span class="linenos">688</span></a>
</span><span id="MainGUI.update_on_state_change-689"><a href="#MainGUI.update_on_state_change-689"><span class="linenos">689</span></a>            <span class="c1">### UPDATE full state time ###</span>
</span><span id="MainGUI.update_on_state_change-690"><a href="#MainGUI.update_on_state_change-690"><span class="linenos">690</span></a>            <span class="n">state_duration_seconds</span> <span class="o">=</span> <span class="n">state_duration_ms</span> <span class="o">/</span> <span class="mf">1000.0</span>
</span><span id="MainGUI.update_on_state_change-691"><a href="#MainGUI.update_on_state_change-691"><span class="linenos">691</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
</span><span id="MainGUI.update_on_state_change-692"><a href="#MainGUI.update_on_state_change-692"><span class="linenos">692</span></a>                <span class="n">text</span><span class="o">=</span><span class="s2">&quot;/ </span><span class="si">{:.1f}</span><span class="s2">s&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">state_duration_seconds</span><span class="p">)</span>
</span><span id="MainGUI.update_on_state_change-693"><a href="#MainGUI.update_on_state_change-693"><span class="linenos">693</span></a>            <span class="p">)</span>
</span><span id="MainGUI.update_on_state_change-694"><a href="#MainGUI.update_on_state_change-694"><span class="linenos">694</span></a>
</span><span id="MainGUI.update_on_state_change-695"><a href="#MainGUI.update_on_state_change-695"><span class="linenos">695</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Status: </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_state_change-696"><a href="#MainGUI.update_on_state_change-696"><span class="linenos">696</span></a>
</span><span id="MainGUI.update_on_state_change-697"><a href="#MainGUI.update_on_state_change-697"><span class="linenos">697</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Updated GUI on state change to </span><span class="si">{</span><span class="n">state</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_state_change-698"><a href="#MainGUI.update_on_state_change-698"><span class="linenos">698</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.update_on_state_change-699"><a href="#MainGUI.update_on_state_change-699"><span class="linenos">699</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on state change: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_state_change-700"><a href="#MainGUI.update_on_state_change-700"><span class="linenos">700</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Here we define the GUI objects that need to be updated upon a state change. This includes the current state label as
well as the state timer.</p>

<h2 id="parameters">Parameters</h2>

<ul>
<li><strong>state_duration_ms</strong> (<em>float</em>): Provides the duration of this state in ms. Is generally pulled from the program schedule df for
the current trial. Converted to seconds by dividing the parameter by 1000.0.</li>
<li><strong>state</strong> (<em>str</em>): Provides the current to program state to update state label to inform user that program has changed state.</li>
</ul>
</div>


                            </div>
                            <div id="MainGUI.update_on_stop" class="classattr">
                                        <input id="MainGUI.update_on_stop-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_on_stop</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MainGUI.update_on_stop-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.update_on_stop"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.update_on_stop-702"><a href="#MainGUI.update_on_stop-702"><span class="linenos">702</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">update_on_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.update_on_stop-703"><a href="#MainGUI.update_on_stop-703"><span class="linenos">703</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_stop-704"><a href="#MainGUI.update_on_stop-704"><span class="linenos">704</span></a><span class="sd">        Here we define the GUI objects that need to be updated when the program is stopped for any reason. This includes the current</span>
</span><span id="MainGUI.update_on_stop-705"><a href="#MainGUI.update_on_stop-705"><span class="linenos">705</span></a><span class="sd">        state label (change to &quot;IDLE), and removing state timer information.</span>
</span><span id="MainGUI.update_on_stop-706"><a href="#MainGUI.update_on_stop-706"><span class="linenos">706</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.update_on_stop-707"><a href="#MainGUI.update_on_stop-707"><span class="linenos">707</span></a>
</span><span id="MainGUI.update_on_stop-708"><a href="#MainGUI.update_on_stop-708"><span class="linenos">708</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.update_on_stop-709"><a href="#MainGUI.update_on_stop-709"><span class="linenos">709</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">state_timer_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;0.0s&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_stop-710"><a href="#MainGUI.update_on_stop-710"><span class="linenos">710</span></a>
</span><span id="MainGUI.update_on_stop-711"><a href="#MainGUI.update_on_stop-711"><span class="linenos">711</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">full_state_time_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot; / 0.0s&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_stop-712"><a href="#MainGUI.update_on_stop-712"><span class="linenos">712</span></a>
</span><span id="MainGUI.update_on_stop-713"><a href="#MainGUI.update_on_stop-713"><span class="linenos">713</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">status_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Status: IDLE&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_stop-714"><a href="#MainGUI.update_on_stop-714"><span class="linenos">714</span></a>
</span><span id="MainGUI.update_on_stop-715"><a href="#MainGUI.update_on_stop-715"><span class="linenos">715</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.update_on_stop-716"><a href="#MainGUI.update_on_stop-716"><span class="linenos">716</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error updating GUI on stop: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.update_on_stop-717"><a href="#MainGUI.update_on_stop-717"><span class="linenos">717</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>Here we define the GUI objects that need to be updated when the program is stopped for any reason. This includes the current
state label (change to "IDLE), and removing state timer information.</p>
</div>


                            </div>
                            <div id="MainGUI.on_close" class="classattr">
                                        <input id="MainGUI.on_close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MainGUI.on_close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainGUI.on_close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainGUI.on_close-719"><a href="#MainGUI.on_close-719"><span class="linenos">719</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainGUI.on_close-720"><a href="#MainGUI.on_close-720"><span class="linenos">720</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainGUI.on_close-721"><a href="#MainGUI.on_close-721"><span class="linenos">721</span></a><span class="sd">        This method is called any time the main program window is closed via the red X or &lt;C-w&gt; shortcut. We stop the listener thread if it</span>
</span><span id="MainGUI.on_close-722"><a href="#MainGUI.on_close-722"><span class="linenos">722</span></a><span class="sd">        is running, then quit() the tkinter mainloop and destroy() the window and all descendent widgets.</span>
</span><span id="MainGUI.on_close-723"><a href="#MainGUI.on_close-723"><span class="linenos">723</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainGUI.on_close-724"><a href="#MainGUI.on_close-724"><span class="linenos">724</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MainGUI.on_close-725"><a href="#MainGUI.on_close-725"><span class="linenos">725</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">listener_thread</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MainGUI.on_close-726"><a href="#MainGUI.on_close-726"><span class="linenos">726</span></a>                <span class="c1"># stop the listener thread so that it will not block exit</span>
</span><span id="MainGUI.on_close-727"><a href="#MainGUI.on_close-727"><span class="linenos">727</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">arduino_controller</span><span class="o">.</span><span class="n">stop_listener_thread</span><span class="p">()</span>
</span><span id="MainGUI.on_close-728"><a href="#MainGUI.on_close-728"><span class="linenos">728</span></a>
</span><span id="MainGUI.on_close-729"><a href="#MainGUI.on_close-729"><span class="linenos">729</span></a>            <span class="c1"># quit the mainloop and destroy the application</span>
</span><span id="MainGUI.on_close-730"><a href="#MainGUI.on_close-730"><span class="linenos">730</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span><span id="MainGUI.on_close-731"><a href="#MainGUI.on_close-731"><span class="linenos">731</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="MainGUI.on_close-732"><a href="#MainGUI.on_close-732"><span class="linenos">732</span></a>
</span><span id="MainGUI.on_close-733"><a href="#MainGUI.on_close-733"><span class="linenos">733</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Mainloop terminated, widgets destroyed, application closed.&quot;</span><span class="p">)</span>
</span><span id="MainGUI.on_close-734"><a href="#MainGUI.on_close-734"><span class="linenos">734</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MainGUI.on_close-735"><a href="#MainGUI.on_close-735"><span class="linenos">735</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error closing application: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="MainGUI.on_close-736"><a href="#MainGUI.on_close-736"><span class="linenos">736</span></a>            <span class="k">raise</span>
</span></pre></div>


            <div class="docstring"><p>This method is called any time the main program window is closed via the red X or <C-w> shortcut. We stop the listener thread if it
is running, then quit() the tkinter mainloop and destroy() the window and all descendent widgets.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>